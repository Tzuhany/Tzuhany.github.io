[{"title":"01èƒŒåŒ…é—®é¢˜","url":"/2023/02/10/01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/","content":"ä»Šå¤©å¼€å§‹äº†åŠ¨æ€è§„åˆ’çš„å­¦ä¹ ï¼Œçœ‹ç€yæ€»çš„é—«æ°DPåˆ†ææ³•ï¼Œå­¦ä¼šäº†æœ€åŸºç¡€çš„01èƒŒåŒ…é—®é¢˜ã€‚\n\n01èƒŒåŒ…é—®é¢˜#include&lt;iostream&gt;using namespace std;const int N = 1010;int n, m;int v[N], w[N];int dp[N][N];int main()&#123;    cin &gt;&gt; n &gt;&gt; m;    for(int i = 1; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];    for(int i = 1; i &lt;= n; i++)&#123;        for(int j = 0; j &lt;= m; j++) &#123;            dp[i][j] = dp[i - 1][j];            if(v[i] &lt;= j) dp[i][j] = max(dp[i][j], dp[i - 1][j - v[i]] + w[i]);        &#125;    &#125;        cout&lt;&lt;dp[n][m];&#125;","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]},{"title":"DFS-BFS","url":"/2023/02/09/DFS-BFS/","content":"æ·±åº¦ä¼˜å…ˆæœç´¢ä¸å¹¿åº¦ä¼˜å…ˆæœç´¢é€šå¸¸ç”¨äºæ ‘å’Œå›¾çš„æ“ä½œï¼Œç»å…¸æ·±åº¦ä¼˜å…ˆæœç´¢ä¾‹é¢˜å¦‚å…«çš‡åé—®é¢˜ã€‚\n\n\næ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ä»æ ‘çš„å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œè‡ªæœ€å·¦æ ‘å¼€å§‹å‘ä¸‹æœç´¢ï¼Œåˆ°è¾¾å¶å­èŠ‚ç‚¹åå›æº¯ï¼Œç›´è‡³æœç´¢å®Œæ¯•ã€‚leetcode200.å²›å±¿æ•°é‡\nclass Solution &#123;public:    int dfs(vector&lt;vector&lt;char&gt;&gt;&amp; grid, int i, int j) &#123;        //æ·»åŠ é€’å½’é™å®šæ¡ä»¶        if (i &lt; 0 || j &lt; 0 || i &gt;= grid.size() || j &gt;= grid[0].size() || grid[i][j] == &#x27;0&#x27;) &#123;            return 0;        &#125;        //æœ€é‡è¦çš„ä¸€æ­¥ï¼Œé€’å½’çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ¯ä¸€ä¸ªå²›å±¿çš„æ‰€æœ‰ç‚¹èµ‹å€¼ä¸º0        grid[i][j] = &#x27;0&#x27;;        for (int index = 0; index &lt; 4; ++index) &#123;            int next_i = i + di[index];            int next_j = j + dj[index];            df(grid, next_i,next_j);        &#125;        return 1;    &#125;     int numIslands(vector&lt;vector&lt;char&gt;&gt;&amp; grid) &#123;        int num = 0;        //å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œdfs        for (int i = 0; i &lt; grid.size(); ++i) &#123;            for (int j = 0; j &lt; grid[0].size(); ++j) &#123;                num += dfs(grid, i, j);             &#125;        &#125;        return num;    &#125;private:        int di[4] = &#123;-1,0,1,0&#125;;        int dj[4] = &#123;0,1,0,-1&#125;;&#125;;\nä¾‹é¢˜ï¼šacwing 842.æ’åˆ—æ•°å­—é€šè¿‡é€’å½’ä¸å›æº¯çš„æ€æƒ³å®ç°æ·±åº¦ä¼˜å…ˆæœç´¢\n#include&lt;iostream&gt;using namespace std;const int N = 8;int n, path[N];bool st[N];void dfs(int u)&#123;    //é€’å½’ç»ˆæ­¢çš„æ¡ä»¶ä¸ºæœ€å†…å±‚å¾ªç¯ç»ˆæ­¢    if(u == n)&#123;         for(int i = 0; i &lt; n; i++) printf(&quot;%d &quot;, path[i]);        puts(&quot;&quot;);            &#125;;        for(int i = 1; i &lt;= n; i++)&#123;        if(!st[i])&#123;            path[u] = i;            st[i] = true;            dfs(u + 1);            st[i] = false;        &#125;            &#125;&#125;int main()&#123;    cin &gt;&gt; n;    dfs(0);    return 0;&#125;\n\nå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œæœç´¢æ¯ä¸€å±‚çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚acwingè¿·å®«é—®é¢˜\n#include&lt;iostream&gt;#include&lt;cstring&gt;typedef pair&lt;int, int&gt; PIIconst N = 110;//ç»™å®šé«˜åº¦ä¸å®½åº¦int n, m;//å­˜å‚¨å›¾int g[N][N];//è®°å½•æ¯ä¸ªç‚¹è·ç¦»èµ·ç‚¹çš„è·ç¦»int d[N][N];int bfs() &#123;    //ç»™å›¾ä¸­æ‰€æœ‰ç‚¹èµ‹å€¼ä¸º-1ï¼Œ-1ä»£è¡¨è¿˜æ²¡èµ°è¿‡    memset(d, -1, sizeof d);    queue&lt;PII&gt; q;    //å›¾ä¸­ç¬¬ä¸€ä¸ªç‚¹èµ‹å€¼ä¸º0ï¼Œä»£è¡¨èµ·å§‹èµ°åˆ°äº†ç¬¬ä¸€ä¸ªç‚¹    d[0, 0] = 0;    q.push(&#123;0, 0&#125;);    //è®¾ç½®æ–¹å‘    int dx[4] = &#123;-1, 0, 1, 0&#125;, dy[4] = &#123;0, 1, 0, -1&#125;;    while(q.size())&#123;        auto t = q.front();        q.pop();                //éå†åˆ°è¾¾çš„æ¯ä¸ªç‚¹çš„å››ä¸ªæ–¹å‘        for(int i = 0; i &lt; 4; i++) &#123;            int x = t.first + dx[i], y = t.second + dy[i];             if(x &gt;= 0 &amp;&amp; x &lt; n &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; m &amp;&amp; g[x][y] == 0 &amp;&amp; d[x][y] == -1) &#123;            //d[x][y]ç­‰äºä¸Šä¸€ä¸ªèŠ‚ç‚¹åŠ ä¸€            d[x][y] = d[t.first][t.second] + 1;            q.push(&#123;x, y&#125;);        &#125;    &#125;    return d[n - 1][m - 1];&#125;int main()&#123;    for(int i = 0; i &lt; n; i++)        for(int j = 0; j &lt; m; j++)            cin &gt;&gt; g[i][j];    cout &lt;&lt; bfs() &lt;&lt; endl;&#125;","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]},{"title":"Trieæ ‘-å¹¶æŸ¥é›†","url":"/2023/02/09/Trie%E6%A0%91-%E5%B9%B6%E6%9F%A5%E9%9B%86/","content":"å¹¶æŸ¥é›†é€šå¸¸ç”¨äº\n\nå°†ä¸¤ä¸ªé›†åˆåˆå¹¶\næŸ¥è¯¢ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­åŸºæœ¬åŸç†ï¼šæ¯ä¸ªé›†åˆç”¨ä¸€é¢—æ ‘æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨å…¶çˆ¶èŠ‚ç‚¹ï¼Œæ ‘æ ¹çš„ç¼–å·å°±æ˜¯é›†åˆçš„ç¼–å·ã€‚åˆ¤æ–­æ ‘æ ¹ï¼šp[x] == xæ±‚xçš„é›†åˆç¼–å·ï¼šwhile(p[x] != x) x = p[x]ï¼Œä¼˜åŒ–ï¼Œè¿›è¡Œè·¯å¾„å‹ç¼©ï¼Œä¸€æ¬¡æ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œå°†è·¯å¾„ä¸Šæ‰€æœ‰ç‚¹éƒ½ç›´æ¥æŒ‡å‘æ ¹èŠ‚ç‚¹ã€‚è¿™æ ·å¯ä»¥åŸºæœ¬ä¿è¯O(1)çš„æ—¶é—´å¤æ‚åº¦ã€‚åˆå¹¶ä¸¤ä¸ªé›†åˆï¼šp[x] = y#include&lt;iostream&gt;using namespace std;const int N = 100010;//çˆ¶èŠ‚ç‚¹å…ƒç´ int p[N];//è¿”å›xæ‰€åœ¨é›†åˆçš„ç¼–å·//è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹ + è·¯å¾„å‹ç¼©int find(int x) &#123;    if(x != p[x]) p[x] = find([px]);    return p[x];&#125;\n\nTrieæ ‘ç”¨æ¥å¿«é€Ÿå­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²é›†åˆçš„æ•°æ®ç»“æ„Trieçš„æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œ\n/*å‡è®¾æœ‰ä¸‹æ ‡ä¸ºxçš„ç‚¹son[x][]ä¸ºä¸‹æ ‡xèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œson[x][0]å°±æ˜¯xçš„ç¬¬0ä¸ªå„¿å­cnt[x]æ˜¯æŒ‡ä»¥xç»“å°¾çš„ç‚¹æœ‰å¤šå°‘ä¸ª*/#include&lt;iostream&gt;using namespace std;int N = 100010;int son[N][26], cnt[N], idx;void insert(char[] str) &#123;    int p = 0;    for(int i = 0; str[i]; i++) &#123;        int u = str[i] - â€˜aâ€™;        if(!son[p][u]) son[p][u] = ++idx;        p = son[p]][u];    &#125;    cnt[p]++;&#125; int query(char[] str) &#123;    int p = 0;    for(int i = 0; str[i]; i++) &#123;        int u = str[i] - â€˜aâ€™;        if(!str[p][u]) return 0;        p = son[p][u];    &#125;    return cnt[p];&#125;\n\n","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]},{"title":"MySQLåŸºç¡€","url":"/2023/02/25/MySQL%E5%9F%BA%E7%A1%80/","content":"ä½¿ç”¨DISTINCTå…³é”®å­—ï¼ŒæŒ‡ç¤ºMySQL åˆ—ä¸­åªè¿”å›ä¸åŒçš„å€¼\n\n\nselect DISTINCT vend_id from products\n\nä½¿ç”¨LIMITé™åˆ¶è¿”å›ç»“æœ\n-- é™åˆ¶è¾“å‡ºç»“æœåªæœ‰äº”è¡Œselect prod_name from products LIMIT 5-- è¿”å›ä»è¡Œ5å¼€å§‹çš„5è¡Œselect prod_name from products LIMIT 5,5\n\nIS NULLç©ºå€¼è¿‡æ»¤\nselect prod_name from products where prod_price IS NULL\n\nLIKEé€šé…ç¬¦\n-- ç­›é€‰ä»¥jetå¼€å¤´çš„æ•°æ®select prod_id, prod_name from products where prod_name LIKE &#x27;jet%&#x27;-- ç­›é€‰æ‰€æœ‰åŒ…å«jetçš„æ•°æ®select prod_id, prod_name from products where prod_name LIKE &#x27;%jet%&#x27;-- ç­›é€‰ä»¥så¼€å¤´ï¼Œeç»“å°¾çš„æ•°æ®select prod_id, prod_name from products where prod_name LIKE &#x27;s%e&#x27;\n\nä¸‹åˆ’çº¿_é€šé…ç¬¦\n-- ä¸‹åˆ’çº¿é€šé…ç¬¦åªåŒ¹é…å•ä¸ªå­—ç¬¦select prod_id, prod_name from products where prod_name LIKE &#x27;_tom anvi1&#x27;\n\næ­£åˆ™è¡¨è¾¾å¼æœç´¢-- åŒ¹é…1000ï¼Œ 2000 â€¦â€¦select prod_id, prod_name from products where prod_name REGEXP &#x27;.000&#x27;select prod_id, prod_name from products where prod_name REGEXP &#x27;1000|2000&#x27;-- åŒ¹é…1 tonï¼Œ 2tonï¼Œ 3tonselect prod_id, prod_name from products where prod_name REGEXP &#x27;[1-3] ton&#x27;-- åŒ¹é…ç‰¹æ®Šå­—ç¬¦. - ç­‰select prod_id, prod_name from products where prod_name REGEXP &#x27;\\\\.&#x27;-- åŒ¹é…è¿åœ¨ä¸€èµ·çš„4ä¸ªæ•°å­—select prod_id, prod_name from products where prod_name REGEXP [[:digit:]]&#123;4&#125;\n\næ‹¼æ¥å­—æ®µ\n-- è¾“å‡º æ¨å­æ¶µï¼ˆç”·ï¼‰select concat(name, &#x27;(&#x27;, sex, &#x27;)&#x27;) from infos\n\nå»é™¤ç©ºæ ¼\nselect RTrim(name) from infos\n\nä½¿ç”¨åˆ«åAS\nselect concat(name, &#x27;(&#x27;, sex, &#x27;)&#x27;) as basic_info from infos\n\nåˆ†ç»„-- ç»Ÿè®¡æ¯ä¸ªidæœ‰å¤šå°‘ä¸ªselect id, count(*) from products group by id-- è¦åˆ—å‡ºè‡³å°‘æœ‰ä¸¤ä¸ªè®¢å•çš„æ‰€æœ‰é¡¾å®¢ï¼Œç”±äºwhereæŒ‡å®šçš„æ˜¯è¡Œï¼Œè€ŒhavingæŒ‡å®šçš„æ˜¯åˆ†ç»„ï¼Œå› æ­¤è¦ä½¿ç”¨havingselect cust_id, count(*) as numorder from orders group by cust_id having count(*) &gt;= 2-- åˆ—å‡ºå…·æœ‰2ä¸ªï¼ˆå«ï¼‰ä»¥ä¸Šã€ä»·æ ¼ä¸º10ï¼ˆå«ï¼‰ä»¥ä¸Šçš„äº§å“çš„ä¾›åº”å•†select vend_id, count(*) as num_prodsfrom productswhere prod_price &gt;= 10group by vent_idhaving count(*) &gt;= 2\n\nå­æŸ¥è¯¢-- åˆ—å‡ºè®¢è´­ç‰©å“TNT2çš„æ‰€æœ‰å®¢æˆ·-- ä¸ä½¿ç”¨å­æŸ¥è¯¢-- 1)select order_num from orderitems where prod_id = &#x27;TNT2&#x27;-- 2)select cust_id from orders where order_num in(20005, 20007)-- ä½¿ç”¨å­æŸ¥è¯¢select cust_id from orders where order_num in(select order_num from orderitems where prod_id = &#x27;TNT2&#x27;)\n\nè¿ç»“è¡¨-- å†…è”ç»“select vend_name, prod_name, prod_pricefrom vendors inner join productson vendors.vend_id = products.vend_id-- è‡ªè”ç»“-- ä½¿ç”¨ASåœ¨SQLä¸­å¤šæ¬¡ä½¿ç”¨ç›¸åŒè¡¨select p1.prod_id, p1.prod_namefrom products as p1, products as p2where p1.vend_id = p2.vend_id-- å¤–è”ç»“-- rightè¡¨ç¤ºé€‰æ‹©å³è¾¹è¡¨çš„æ‰€æœ‰è¡Œselect vend_name, prod_name, prod_pricefrom vendors right outer join productson vendors.vend_id = products.vend_id\n\nç»„åˆæŸ¥è¯¢\n-- ä½¿ç”¨UNIONç»„åˆå¤šä¸ªæŸ¥è¯¢select vend_id, prod_id, prod_pricefrom productswhere prod_price &lt;= 5-- unionä¼šè‡ªåŠ¨åˆ é™¤é‡å¤çš„è¡Œï¼Œå¦‚æœå–æ¶ˆï¼Œä½¿ç”¨union allunion (union all)select vend_id, prod_id, prod_pricefrom productswhere vend_id in (1001, 1002)-- æœ€åä½¿ç”¨æ’åºï¼Œä¼šå¯¹æ•´ä¸ªç»“æœéƒ½æ’åºorder by vend_id, prod_price\n\nå…¨æ–‡æœç´¢åˆ›å»ºè¡¨æ—¶ï¼Œå¯ç”¨å…¨æ–‡æœç´¢\ncreate table productnotes(\tnote_id\t\tint\t\t\tnot null auto_increment,    prod_id \tchar(10)\tnot null,    note_date \tdatetime\tnot null,    note_text\ttext\t\tnull,    primary key(note_id),    fulltext(note_text))engine=myisam-- æ£€ç´¢å‡ºåŒ…å«rabbitçš„è®°å½•select note_textfrom productnoteswhere match(note_text) against(&#x27;rabbit&#x27;)-- å¸ƒå°”æ–‡æœ¬æœç´¢-- ä¸åŒ…å«rabbitçš„è®°å½•select note_textfrom productnoteswhere match(note_text) against(&#x27;rabbit&#x27;, IN BOOLEAN MODE)-- åŒ…å«rabbitã€‚ä½†ä¸åŒ…å«havençš„è®°å½•select note_textfrom productnoteswhere match(note_text) against(&#x27;rabbit -rope*&#x27;, IN BOOLEAN MODE)\n\næ’å…¥æ£€ç´¢å‡ºçš„æ•°æ®insert into customers(\tid,    phone,    email)selectid,phone,emailfrom infos\n\næ›´æ–°è¡¨alter table vendors add vend_phone char(20)alter table vendors drop column vend_phonealter table orders add constraint products_vendors foreign key (vend_id) references vendors (vend_id)\n\nå­˜å‚¨è¿‡ç¨‹-- åˆ›å»ºå­˜å‚¨è¿‡ç¨‹create procedure productpricing()begin\tselect avg(prod_price) as priceaverge\tfrom products;end;-- è°ƒç”¨å­˜å‚¨è¿‡ç¨‹call productpricing()-- åˆ é™¤å­˜å‚¨è¿‡ç¨‹drop procedure productpricing if exists;-- ä¼ é€’å˜é‡-- MySQLæ”¯æŒINï¼ˆä¼ é€’ç»™å­˜å‚¨è¿‡ç¨‹ï¼‰ã€OUTï¼ˆä»å­˜å‚¨è¿‡ç¨‹ä¼ å‡ºï¼Œå¦‚è¿™é‡Œæ‰€ç”¨ï¼‰å’ŒINOUTï¼ˆå¯¹å­˜å‚¨è¿‡ç¨‹ä¼ å…¥å’Œä¼ å‡ºï¼‰ç±»å‹çš„å‚æ•°ã€‚create procedure productpricing(\tout p1 decimal(8, 2)    out ph decimal(8, 2)    out pa decimal(8, 2))begin\tselect min(prod_price)\tinto p1\tfrom products;\tselect max(prod_price)\tinto ph\tfrom products;\tselect avg(prod_price)\tinto pa\tfrom products;end;call productpricing(\t@pricelow    @pricehigh    @priceaverage)select @pricelow, @pricehigh, @priceaverage;-- ä½¿ç”¨ä¼ å…¥ç¤ºä¾‹create procedure productpricing(\tin onumber int,    out ototal decimal(8, 2))begin\tselect sum(item_price * quantity)\tfrom orderitems\twhere order_num = onumber\tinto totalend call productpricing(\t200005,    @total)select @total\n\nå®Œæˆå­˜å‚¨è¿‡ç¨‹ç¤ºä¾‹\ncreate procedure ordertotal(\tin onumber int,    in taxable boolen,    out ototal decimal(8, 2))comment &#x27;obtain order total, optionally adding tax&#x27;begin\tdeclare total decimal(8, 2);\tdeclare tax int default 6;\t\tselect sum(item_price * quantity)\tfrom orderitems\twhere order_num = onumber\tinto total;\t\tif taxable then\t\tselect total + (total / 100 * taxrate) into total;\tend if;\t\tselect total into ototalend;call ordertotal(20005, 0, @total);select @total;-- æ£€æŸ¥å­˜å‚¨è¿‡ç¨‹show create procedure ordertotal;\n\næ¸¸æ ‡MySQLæ£€ç´¢æ“ä½œè¿”å›ä¸€ç»„ç§°ä¸ºç»“æœé›†çš„è¡Œã€‚è¿™ç»„è¿” å›çš„è¡Œéƒ½æ˜¯ä¸SQLè¯­å¥ç›¸åŒ¹é…çš„è¡Œï¼ˆé›¶è¡Œæˆ–å¤šè¡Œï¼‰ã€‚ä½¿ç”¨ç®€å•çš„SELECTè¯­ å¥ï¼Œä¾‹å¦‚ï¼Œæ²¡æœ‰åŠæ³•å¾—åˆ°ç¬¬ä¸€è¡Œã€ä¸‹ä¸€è¡Œæˆ–å‰10è¡Œï¼Œä¹Ÿä¸å­˜åœ¨æ¯æ¬¡ä¸€è¡Œ åœ°å¤„ç†æ‰€æœ‰è¡Œçš„ç®€å•æ–¹æ³•ï¼ˆç›¸å¯¹äºæˆæ‰¹åœ°å¤„ç†å®ƒä»¬ï¼‰ã€‚ æœ‰æ—¶ï¼Œéœ€è¦åœ¨æ£€ç´¢å‡ºæ¥çš„è¡Œä¸­å‰è¿›æˆ–åé€€ä¸€è¡Œæˆ–å¤šè¡Œã€‚è¿™å°±æ˜¯ä½¿ç”¨ æ¸¸æ ‡çš„åŸå› ã€‚æ¸¸æ ‡ï¼ˆcursorï¼‰æ˜¯ä¸€ä¸ªå­˜å‚¨åœ¨MySQLæœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æŸ¥è¯¢ï¼Œ å®ƒä¸æ˜¯ä¸€æ¡SELECTè¯­å¥ï¼Œè€Œæ˜¯è¢«è¯¥è¯­å¥æ£€ç´¢å‡ºæ¥çš„ç»“æœé›†ã€‚åœ¨å­˜å‚¨äº†æ¸¸ æ ‡ä¹‹åï¼Œåº”ç”¨ç¨‹åºå¯ä»¥æ ¹æ®éœ€è¦æ»šåŠ¨æˆ–æµè§ˆå…¶ä¸­çš„æ•°æ®ã€‚\n-- æ­¤æ—¶ordernumberså­˜æ¸¸æ ‡å­˜å‚¨äº†selectçš„ç»“æœé›†ï¼Œå¯æ ¹æ®éœ€è¦æ‰“å¼€æ¸¸æ ‡é€è¡Œæ»‘åŠ¨æ•°æ®create procedure processorders()begin\tdeclare o int; \tdeclare ordernumbers cursor\tfor\tselect order_num from orders;\t-- æ¸¸æ ‡æ‰§è¡Œå®Œä¹‹åå°†doneè®¾ç½®ä¸º1\tdeclare continue handler for not found set done = 1;\topen ordernumbers;\trepeat\t\tfetch ordernumbers into o;\tuntil done end repeat;\tclose ordernumbers;end;\n\n\n\ncreate procedure processorders()begin\tdeclare done boolean default 0;\tdeclare o int;\tdeclare t decimal(8, 2);\t\tdeclare ordernumbers cursor;\tdeclare continue handler for not found set done = 1;\t\tcreate table if not exists ordertotals(    \torder_num int,        total decimal(8, 2)    )    open ordernumbers;        repeat    \tfetch ordernumbers into o;    \tcall ordertotal(0, 1, t);    \tinsert into ordertotals(order_num, total) values(0, t);    until done end repeat;        close ordernumbers;    end;\t\n\nè§¦å‘å™¨æƒ³è¦æŸäº›è¯­å¥åœ¨äº‹ä»¶å‘ç”Ÿæ—¶è‡ªåŠ¨æ‰§è¡Œï¼Œä½¿ç”¨è§¦å‘å™¨\næ¯ä¸ªè¡¨çš„æ¯ä¸ªäº‹ä»¶æ¯æ¬¡åªå…è®¸ä¸€ä¸ªè§¦å‘å™¨\n-- åœ¨è¿›è¡Œæ¯ä¸€è¡Œæ’å…¥æ—¶æ‰§è¡Œcreate trigger newproduct after insert on productsfor each row select &#x27;product added&#x27;;-- åˆ é™¤è§¦å‘å™¨drop trigger newproduct;-- åœ¨ INSERT å‹è§¦å‘å™¨ä¸­ï¼ŒNEW ç”¨æ¥è¡¨ç¤ºå°†è¦ï¼ˆBEFOREï¼‰æˆ–å·²ç»ï¼ˆAFTERï¼‰æ’å…¥çš„æ–°æ•°æ®ï¼›-- åœ¨ UPDATE å‹è§¦å‘å™¨ä¸­ï¼ŒOLD ç”¨æ¥è¡¨ç¤ºå°†è¦æˆ–å·²ç»è¢«ä¿®æ”¹çš„åŸæ•°æ®ï¼ŒNEW ç”¨æ¥è¡¨ç¤ºå°†è¦æˆ–å·²ç»ä¿®æ”¹ä¸ºçš„æ–°æ•°æ®ï¼›-- åœ¨ DELETE å‹è§¦å‘å™¨ä¸­ï¼ŒOLD ç”¨æ¥è¡¨ç¤ºå°†è¦æˆ–å·²ç»è¢«åˆ é™¤çš„åŸæ•°æ®ï¼›-- è¿”å›æ’å…¥æ–°å€¼çš„order_numcreate trigger newproduct after insert on productsfor each row select new.order_num-- ä½¿ç”¨OLDä¿å­˜å°†è¦è¢«åˆ é™¤çš„è¡Œåˆ°ä¸€ä¸ªå­˜æ¡£è¡¨ä¸­create trigger deleteorder before delete on ordersfor each rowbegin\tinsert into archive_orders(order_num, order_date, cust_id)\tvalues(old.order_num, old.order_date, old.cust_id);end;-- ä¸‹é¢çš„ä¾‹å­ä¿è¯å·åç¼©å†™æ€»æ˜¯å¤§å†™create trigger deleteorder before update on vendorsfor each row set new.vend_state = upper(new.vend_state);\n\näº‹åŠ¡å¤„ç†ä¸ºäº†é˜²æ­¢æ‰§è¡Œä¸€æ®µsqlæ“ä½œæ—¶ï¼ŒæŸä¸€ä¸ªsqlè¯­å¥å‡ºç°é”™è¯¯ï¼Œæ‰€ä»¥è¦ä½¿ç”¨äº‹åŠ¡æ¥é˜²æ­¢å‡ºé”™\n-- 1-å›é€€select * from ordertotals;-- å¼€å¯ä¸€ä¸ªäº‹åŠ¡start transaction;-- åˆ é™¤ordertotalsä¸­çš„æ‰€æœ‰å†…å®¹delete from ordertotals;-- æ­¤æ—¶ordertotalsè¡¨ä¸ºç©ºselect * from ordertotals;-- å›é€€start transactionä¹‹åçš„æ‰€æœ‰æ“ä½œrollback;-- æ­¤æ—¶ordertotalsè¡¨ä¸ä¸ºç©ºselect * from ordertotals;-- 2-æäº¤start transaction;delete from ordertotals where order_num = 20010;delete from orders where order_num = 20010;-- æäº¤ï¼Œæ­¤æ—¶å¦‚æœä¸Šé¢çš„æŸæ¡deleteè¯­å¥å‡ºé”™ï¼Œåˆ™ä¸¤æ¡deleteè¯­å¥éƒ½ä¸ä¼šæ‰§è¡Œcommit;-- 3-ä¿ç•™ç‚¹ï¼Œåœ¨æŸä¸ªæ­¥éª¤å‡ºé”™æ—¶ï¼Œä¸ç”¨å…¨éƒ¨å›é€€ï¼Œåªå›é€€åˆ°å‡ºé”™ç‚¹start transaction;savepoint delete1;delete from ordertotals where order_num = 20010;savepoint delete2;delete from orders where order_num = 20010;rollback delete1;commit;","categories":["MySQL"],"tags":["MySQLåŸºç¡€"]},{"title":"Goæ•°æ®ç»“æ„","url":"/2023/01/30/Go%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/","content":"åˆ‡ç‰‡åœ¨Goä¸­ï¼Œä¸€èˆ¬ä½¿ç”¨åˆ‡ç‰‡æ›¿ä»£æ•°ç»„çš„ä½¿ç”¨ï¼ŒGoè®¤ä¸ºæ•°ç»„é•¿åº¦å±äºå…¶ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œè¿™å¯èƒ½å¯¼è‡´[3]intçš„æ•°ç»„ç±»å‹ä¸åŒäºå®šä¹‰ä¸º[4]intçš„ç±»å‹ï¼Œä¹Ÿæ„å‘³ç€ä¸èƒ½ä½¿ç”¨å˜é‡å»æŒ‡å®šæ•°ç»„é•¿åº¦ï¼Œå› ä¸ºå˜é‡å¿…é¡»åœ¨ç¼–è¯‘æ—¶è€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶è§£æã€‚\nåˆ‡ç‰‡çš„å®šä¹‰ï¼š\n\nå¸¦å­—é¢é‡ï¼švar x = []int&#123;1, 2, 3&#125;\nä¸å¸¦å­—é¢é‡ï¼švar x []intï¼Œä¸å¸¦å­—é¢é‡æ—¶ï¼Œç”±äºåˆ‡ç‰‡æ²¡æœ‰è¢«èµ‹å€¼ï¼Œå› æ­¤åˆ‡ç‰‡xè¢«èµ‹äºˆé›¶å€¼nil\n\nåˆ‡ç‰‡ä¸­å¸¸ç”¨æ–¹æ³•:\n\nåˆ‡ç‰‡é•¿åº¦len()ï¼Œlen(x)\nå¢åŠ å…ƒç´ append()ï¼Œå¯ä»¥æ·»åŠ å•ä¸ªå€¼ï¼šx = append(x, 10)ï¼Œä¹Ÿå¯ä»¥æ·»åŠ å¤šä¸ªå€¼x = append(x, 1, 2, 3, 4)ï¼Œæˆ–è€…ä½¿ç”¨â€¦æ“ä½œç¬¦æ·»åŠ åˆ‡ç‰‡ï¼šx = append(x, yâ€¦)\n\nå®¹é‡ï¼šåˆ‡ç‰‡æ˜¯ä¸€ä¸ªæ•°å€¼åºåˆ—ï¼Œåˆ‡ç‰‡ä¸­çš„å€¼å ç”¨å†…å­˜ä¸­çš„è¿ç»­åœ°å€ï¼Œåˆ‡ç‰‡åœ¨è¿ç»­å†…å­˜åœ°å€çš„å¤§å°å°±æ˜¯åˆ‡ç‰‡çš„å®¹é‡ã€‚å®¹é‡å¯èƒ½ä¼šå¤§äºåˆ‡ç‰‡çš„é•¿åº¦ï¼Œå½“æœ€ç»ˆæ‰€éœ€é•¿åº¦è¶…å‡ºå®¹é‡çš„å¤§å°æ—¶ï¼Œappendå‡½æ•°ä½¿ç”¨Goè¿è¡Œæ—¶åˆ†é…ä¸€ä¸ªæœ‰æ›´å¤§å®¹é‡çš„åˆ‡ç‰‡ï¼Œå°†åŸåˆ‡ç‰‡çš„å†…å®¹æ‹·è´åˆ°æ–°åˆ‡ç‰‡ï¼Œå°†éœ€è¦æ·»åŠ çš„å€¼æ·»åŠ åˆ°æ–°åˆ‡ç‰‡çš„æœ«å°¾ï¼Œå¹¶è¿”å›æ–°åˆ‡ç‰‡ã€‚ä½¿ç”¨capå‡½æ•°å¯ä»¥å¾—åˆ°åˆ‡ç‰‡çš„å®¹é‡ã€‚ä»£ç ç¤ºä¾‹ï¼š\nvar x []intfat.Println(x, len(x), cap(x))x = append(x, 10)fat.Println(x, len(x), cap(x))x = append(x, 20)fat.Println(x, len(x), cap(x))x = append(x, 30)fat.Println(x, len(x), cap(x))x = append(x, 40)fat.Println(x, len(x), cap(x))x = append(x, 50)fat.Println(x, len(x), cap(x))answer:[] 0 0[10] 1 1[10 20] 2 2[10 20 30] 3 4[10 20 30 40] 4 4[10 20 30 40 50] 5 8\nåœ¨Goä¸­ï¼Œå¯ä»¥é€šè¿‡makeå‡½æ•°åˆ›å»ºæ‰€éœ€å®¹é‡çš„åˆ‡ç‰‡ã€‚x := make([]int, 5)ï¼Œæ­¤æ—¶ä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º5ï¼Œå®¹é‡ä¸º5çš„æ•´å‹åˆ‡ç‰‡ã€‚ä½¿ç”¨makeåˆ›å»ºåˆ‡ç‰‡åï¼Œä¸å¯ä»¥å†ä½¿ç”¨appendæ·»åŠ åˆå§‹å…ƒç´ ï¼Œå¦‚ä½¿ç”¨x = append(x, 10)ï¼Œæ­¤æ—¶10ä¼šè¢«æ·»åŠ è‡³åˆ‡ç‰‡å°¾éƒ¨ï¼Œåˆ‡ç‰‡çš„å®¹é‡ä¼šå†å¢åŠ ä¸€å€ã€‚å¯ä»¥æŒ‡å®šåˆ‡ç‰‡çš„å®¹é‡ï¼šx := make([]int, 5, 10)ï¼Œæ­¤æ—¶åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º5ï¼Œå®¹é‡ä¸º10çš„åˆ‡ç‰‡ã€‚ä¹Ÿå¯ä»¥åˆ›å»ºé•¿åº¦ä¸º0çš„åˆ‡ç‰‡ï¼Œx := make([]int, 0, 5)ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡appendæ–¹æ³•å‘åˆ‡ç‰‡å†…è¿½åŠ æ•°æ®ã€‚\næ´¾ç”Ÿåˆ‡ç‰‡ï¼šåœ¨åˆ‡ç‰‡å†…ä½¿ç”¨:æ¥ç”Ÿæˆæ´¾ç”Ÿåˆ‡ç‰‡ã€‚\nx := []int&#123;1, 2, 3, 4&#125;y := x[:2]fmt.Println(y)answer:[1 2]\nåˆ‡ç‰‡æœ‰æ—¶ä¼šå…±äº«å†…å­˜ï¼Œå­åˆ‡ç‰‡çš„å®¹é‡æ˜¯åŸåˆ‡ç‰‡çš„å®¹é‡å‡å»åˆ‡ç‰‡çš„åç§»é‡ï¼Œå› æ­¤ï¼ŒåŸåˆ‡ç‰‡ä¸ºä½¿ç”¨å®¹é‡ä¼šå’Œå­åˆ‡ç‰‡å…±äº«ã€‚å½“æ”¹å˜xåˆ‡ç‰‡æ—¶ï¼Œyä¹Ÿä¼šéšä¹‹æ”¹å˜ã€‚\nå­—ç¬¦ä¸²ï¼Œå­—ç¬¦å’Œå­—èŠ‚å‚ç…§åˆ‡ç‰‡ï¼Œå­—ç¬¦ä¸²åŒæ ·æœ‰æ´¾ç”Ÿè¡¨è¾¾å¼æ¥è·å–å­ä¸²\nMapåˆ›å»ºé›¶å€¼æ˜ å°„ï¼švar nilMap map[string]intåˆ›å»ºå­—é¢é‡æ˜ å°„ï¼štotalMap := map[string]int&#123;&#125;\nMapçš„è¯»å†™æ“ä½œï¼š\ndemoMap := map[string]int&#123;&#125;demoMap[â€œAmyâ€] = 98demoMap[â€œTomâ€] = 90fmt.Println(demoMap[â€œTomâ€])answer:90\nå¦‚æœå°è¯•è¯»å–Mapä¸­ä¸å­˜åœ¨çš„é”®ï¼Œä¼šè¿”å›0å€¼ï¼Œä¸ºäº†åˆ¤æ–­é›¶å€¼æ˜¯ç”±äºè¯¥é”®ä¸å­˜åœ¨è¿˜æ˜¯è¯¥é”®ä¸é›¶å€¼ç›¸å…³è”ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨okæ¨¡å¼ã€‚\n//æ¥ä¸Šè¿°ä»£ç v, ok := demoMap[â€œAmyâ€]fmt.Println(v, ok)answer:98, true\n\ndeleteå‡½æ•°å¯ä»¥åˆ é™¤Mapä¸­çš„é”®å€¼delete(demoMap, â€œAmyâ€)\næ˜ å°„æ¨¡æ‹Ÿé›†åˆï¼š\nintSet = map[int]bool&#123;&#125;vals := []int&#123;1, 3, 3, 5, 2, 9, 8&#125;for _, v := range vals &#123;    intSet[v] = true;&#125;\nå› ä¸ºæ˜ å°„ä¸­ä¸ä¼šå­˜åœ¨ç›¸åŒçš„é”®ï¼Œå› æ­¤æ‰€æœ‰ç›¸åŒçš„å€¼åªä¼šè¢«å­˜æ”¾ä¸€æ¬¡ï¼Œå½“è®¿é—®ä¸å­˜åœ¨çš„é”®æ—¶ï¼Œä¼šè¿”å›é›¶å€¼ï¼Œå¯¹åº”boolçš„false\nç»“æ„ä½“å¸¸è§„ç»“æ„ä½“çš„å®šä¹‰ä¸è®¿é—®ï¼š\ntype person struct&#123;    name string    age int    sex string&#125;//ä»¥ä¸‹ä¸¤ç§æ–¹å¼éƒ½ä¼šå°†ç»“æ„ä½“èµ‹å€¼é›¶å€¼var Tom personAmy := person&#123;&#125;//éç©ºå­—é¢é‡èµ‹å€¼Sam := person&#123;    name: â€œSamâ€,    age: 19,&#125;Tom.name = â€œTomâ€\nåŒ¿åç»“æ„ä½“ï¼š\nvar person struct &#123;    name string    age int    sex string   &#125;\n\næµç¨‹æ§åˆ¶for - rangeï¼š\ntmp := []int&#123;3, 4, 5&#125;for i, v := range tmp&#123;    fmt.Println(i, v)&#125;answer:0 31 42 5\nå½“ä¸éœ€è¦è·å–ç´¢å¼•æ—¶ï¼Œå¯ä»¥ä½¿ç”¨_æ¥ä»£æ›¿\nåœ¨åµŒå¥—å¾ªç¯ä¸­ï¼Œå¯ä»¥ä½¿ç”¨outeræ ‡ç­¾è·³å‡ºæœ€å¤–å±‚å¾ªç¯\n","categories":["GoåŸºç¡€å¤ä¹ "],"tags":["Go"]},{"title":"ç¬¬ä¸€ç¯‡åšå®¢","url":"/2023/01/23/myFirstPost/","content":"æŠ˜è…¾äº†è®¸ä¹…ï¼Œç»ˆäºå®Œæˆçš„è‡ªå·±çš„åšå®¢ã€‚\nå»ºç«™ä¹‹åˆï¼Œè®¡åˆ’ä½¿ç”¨ React + Gin è¿›è¡Œåšå®¢çš„æ­å»ºï¼Œä½†æœ€ç»ˆè¿˜æ˜¯æ”¾å¼ƒäº†ï¼Œè‡ªå·±çš„å®¡ç¾å®åœ¨è¿‡äºç³Ÿç³•ï¼Œå†µä¸”ï¼Œå†™å‰ç«¯çš„æ—¶é—´è¶³å¤Ÿå­¦ä¹ å¾ˆå¤šä¸œè¥¿ï¼Œæ‰‹æ’¸ä¸€ä¸ªåšå®¢å¯¹äºä¸€åå¤§ä¸‰åœ¨æ ¡ç”Ÿè€Œè¨€æœ‰äº›è¿‡äºæµªè´¹æ—¶é—´äº†ã€‚\næœ€ç»ˆé€‰ç”¨ Hexo è¿›è¡Œåšå®¢çš„æ­å»ºï¼ŒHexoå¯ä»¥è§£æ MarkDown æ–‡æœ¬ï¼Œç”Ÿæˆé™æ€ HTML é¡µé¢ï¼Œæœ€æœ€æœ€é‡è¦çš„æ˜¯ï¼ŒHexo æä¾›äº†è®¸å¤šç°æˆçš„ä¸»é¢˜ï¼Œå¯¹ä¸»é¢˜ä¸æ»¡æ„çš„åœ°æ–¹å¯ä»¥ç›´æ¥å¯¹ CSS è¿›è¡Œä¿®æ”¹ï¼Œåœ¨é­”æ”¹äº†ä¸¤å¤©ä¹‹åï¼Œåšå®¢ç½‘ç«™çš„æ ·å¼ç»ˆäºåˆ°äº†æˆ‘çš„å®¡ç¾ä¸Šã€‚\nåšå®¢é‡‡ç”¨ GitHub Page è¿›è¡Œéƒ¨ç½²ï¼Œæ¯ä¸€ç¯‡æ–‡ç« çš„æ›´æ–°ç›¸å½“äºç”¨ GIT å°†ä»£ç æäº¤åˆ°ä»“åº“é‡Œï¼Œå†å¯¹ä»“åº“çš„ Custom domain è¿›è¡Œè®¾ç½®ï¼ŒæŠŠåŸŸåæ·»åŠ åˆ°ä¸Šé¢ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥é€šè¿‡åŸŸåå¯¹åšå®¢è¿›è¡Œè®¿é—®äº†ã€‚\nè¯´åˆ°åŸŸåï¼Œè¿˜è¸©äº†å¾ˆå¤šå‘ï¼Œåœ¨è…¾è®¯äº‘è¿›è¡ŒåŸŸåè§£ææ—¶ï¼Œå¯ä»¥ç›´æ¥æŠŠè®°å½•ç±»å‹è®¾ç½®ä¸º CNAME ä¹‹åå¯¹ ping ä¸€ä¸‹ä»“åº“çš„åœ°å€ï¼Œå¡«åˆ°è®°å½•å€¼ä¸Šå°±å¥½äº†ï¼Œé™¤æ­¤ä¹‹å¤–è¦åœ¨é¡¹ç›®çš„ Source æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªCNAME æ–‡ä»¶ï¼ŒæŠŠåŸŸåå¡«åˆ°é‡Œé¢ï¼Œä¸ç„¶æ¯æ¬¡ commit éƒ½è¦åœ¨ä»“åº“é‡Œé‡æ–°ç»‘å®šåŸŸåï¼Œç¦»è°±çš„å¾ˆï¼\næ­å»ºåšå®¢æ˜¯ä¸ºäº†ç£ä¿ƒè‡ªå·±å¤šå­¦ä¹ ï¼Œå¤šæ›´æ–°æŠ€æœ¯æ–‡ç« ï¼Œå¸Œæœ›èƒ½åšåˆ°ğŸ˜¢\n","categories":["æ‚è¯­"],"tags":["æ‚è¯­"]},{"title":"Shell","url":"/2023/02/25/Shell/","content":"å¾ªç¯ï¼Œ å‡½æ•°ï¼Œ æ–‡ä»¶é‡å®šå‘\n\n\nå¾ªç¯\nfor var in val1 val2 val3do\t#è¯­å¥ä¸€\t#è¯­å¥äºŒdone#ä¾‹å­for file in `ls`do\techo $filedone#ä¼šè¾“å‡ºæ‰€æœ‰æ–‡ä»¶çš„åç§°\n\nfor((i=1; i&lt;=10; i++))do\techo $idone\n\nwhile read filedo\techo $namedone\n\nuntil conditiondo\t#è¯­å¥ä¸€\t#è¯­å¥äºŒdone\n\n#è¾“å‡º1 - 10å†…çš„æ‰€æœ‰å¥‡æ•°for((i=1; i&lt;=10;i++))do\tif [`expr $i % 2` -eq 0]\tthen\t\tcontinue\tfi\techo $idone\n\n\n\nå‡½æ•°\nfunc()&#123;\tname=yzh\techo $name\t\treturn 123&#125;output=$(func)ret=$?#ä¼ é€’å‚æ•°æ—¶ï¼Œ$0ä»£è¡¨æ–‡ä»¶åï¼Œ$1ä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä»¥æ­¤ç±»æ¨func()&#123;\tnum1=$1\tnum2=$2\techo $num1\techo $num2&#125;func 1 2\n\n\n\næ–‡ä»¶é‡å®šå‘\ncommand &gt; file #å°†stdouté‡å®šå‘åˆ°fileä¸­command &lt; file #å°†stdiné‡å®šå‘åˆ°fileä¸­command &gt;&gt; file #å°†stdoutä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ°fileä¸­command n &gt; file #å°†æ–‡ä»¶æè¿°ç¬¦né‡å®šå‘åˆ°fileä¸­command n &gt;&gt; file #å°†æ–‡ä»¶æè¿°ç¬¦nä»¥è¿½åŠ æ–¹å¼é‡å®šå‘åˆ°fileä¸­\n\necho -e &quot;Hello&quot; &gt; output.txtecho &quot;World&quot; &gt;&gt; output.txtread str &lt; output.txt\n\n\n\n","categories":["Linux"],"tags":["Linux"]},{"title":"javaå¤šçº¿ç¨‹ï¼ˆä¸€ï¼‰","url":"/2023/03/01/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/","content":"ç¬¬ä¸€é›†\n\nç»§æ‰¿Threadç±»å®ç°å¤šçº¿ç¨‹public class ThreadDemo extends Thread&#123;    @Override    public void run()&#123;        for(int i  = 0; i &lt; 20; i++)&#123;            System.out.println(i + &quot;---å­çº¿ç¨‹&quot;);        &#125;    &#125;    public static void main(String[] args)    &#123;        ThreadDemo threadTest = new ThreadDemo();        threadTest.start();        for(int i  = 0; i &lt; 20; i++)&#123;            System.out.println(i + &quot;---ä¸»çº¿ç¨‹&quot;);        &#125;    &#125;&#125;/*è¾“å‡ºç»“æœ0---å­çº¿ç¨‹1---å­çº¿ç¨‹2---å­çº¿ç¨‹3---å­çº¿ç¨‹4---å­çº¿ç¨‹5---å­çº¿ç¨‹6---å­çº¿ç¨‹7---å­çº¿ç¨‹8---å­çº¿ç¨‹0---ä¸»çº¿ç¨‹9---å­çº¿ç¨‹1---ä¸»çº¿ç¨‹2---ä¸»çº¿ç¨‹3---ä¸»çº¿ç¨‹4---ä¸»çº¿ç¨‹5---ä¸»çº¿ç¨‹6---ä¸»çº¿ç¨‹10---å­çº¿ç¨‹7---ä¸»çº¿ç¨‹8---ä¸»çº¿ç¨‹9---ä¸»çº¿ç¨‹10---ä¸»çº¿ç¨‹11---ä¸»çº¿ç¨‹12---ä¸»çº¿ç¨‹13---ä¸»çº¿ç¨‹14---ä¸»çº¿ç¨‹15---ä¸»çº¿ç¨‹11---å­çº¿ç¨‹16---ä¸»çº¿ç¨‹12---å­çº¿ç¨‹13---å­çº¿ç¨‹14---å­çº¿ç¨‹15---å­çº¿ç¨‹16---å­çº¿ç¨‹17---å­çº¿ç¨‹18---å­çº¿ç¨‹19---å­çº¿ç¨‹17---ä¸»çº¿ç¨‹18---ä¸»çº¿ç¨‹19---ä¸»çº¿ç¨‹ */\n\nå®ç°Runnableæ¥å£ï¼ˆæ¨èä½¿ç”¨ï¼‰public class ThreadDemo implements Runnable &#123;    @Override    public void run() &#123;        for (int i = 1; i &lt;= 20; i++) &#123;            System.out.println(i + &quot;---å­çº¿ç¨‹&quot;);        &#125;    &#125;    public static void main(String[] args) &#123;        ThreadDemo threadTest = new ThreadDemo();        new Thread(threadTest).start();        for (int i = 1; i &lt;= 20; i++) &#123;            System.out.println(i + &quot;---ä¸»çº¿ç¨‹&quot;);        &#125;    &#125;&#125;/*è¾“å‡ºç»“æœ1---å­çº¿ç¨‹2---å­çº¿ç¨‹3---å­çº¿ç¨‹4---å­çº¿ç¨‹5---å­çº¿ç¨‹6---å­çº¿ç¨‹7---å­çº¿ç¨‹8---å­çº¿ç¨‹1---ä¸»çº¿ç¨‹2---ä¸»çº¿ç¨‹3---ä¸»çº¿ç¨‹9---å­çº¿ç¨‹4---ä¸»çº¿ç¨‹5---ä¸»çº¿ç¨‹6---ä¸»çº¿ç¨‹7---ä¸»çº¿ç¨‹8---ä¸»çº¿ç¨‹9---ä¸»çº¿ç¨‹10---ä¸»çº¿ç¨‹11---ä¸»çº¿ç¨‹10---å­çº¿ç¨‹11---å­çº¿ç¨‹12---å­çº¿ç¨‹13---å­çº¿ç¨‹14---å­çº¿ç¨‹15---å­çº¿ç¨‹16---å­çº¿ç¨‹12---ä¸»çº¿ç¨‹13---ä¸»çº¿ç¨‹14---ä¸»çº¿ç¨‹17---å­çº¿ç¨‹15---ä¸»çº¿ç¨‹16---ä¸»çº¿ç¨‹17---ä¸»çº¿ç¨‹18---ä¸»çº¿ç¨‹18---å­çº¿ç¨‹19---ä¸»çº¿ç¨‹19---å­çº¿ç¨‹20---å­çº¿ç¨‹20---ä¸»çº¿ç¨‹*/\n\nåˆè¯†å¹¶å‘é—®é¢˜public class ThreadDemo implements Runnable &#123;    private int ticketNum = 10;    @Override    public void run() &#123;        while (true) &#123;            if (ticketNum &lt;= 0) break;            //æ¨¡æ‹Ÿå»¶æ—¶            try &#123;                Thread.sleep(200);            &#125; catch (InterruptedException e) &#123;                e.printStackTrace();            &#125;            System.out.println(Thread.currentThread().getName() + &quot;--&gt; æ‹¿åˆ°äº†ç¬¬&quot; + ticketNum-- + &quot;å¼ ç¥¨&quot;);        &#125;    &#125;    public static void main(String[] args) &#123;        ThreadDemo ticket = new ThreadDemo();        new Thread(ticket, &quot;å¼ ä¸‰&quot;).start();        new Thread(ticket, &quot;æå››&quot;).start();        new Thread(ticket, &quot;é»„ç‰›&quot;).start();    &#125;&#125;/*è¾“å‡ºç»“æœé»„ç‰›--&gt; æ‹¿åˆ°äº†ç¬¬9å¼ ç¥¨å¼ ä¸‰--&gt; æ‹¿åˆ°äº†ç¬¬10å¼ ç¥¨æå››--&gt; æ‹¿åˆ°äº†ç¬¬9å¼ ç¥¨å¼ ä¸‰--&gt; æ‹¿åˆ°äº†ç¬¬8å¼ ç¥¨é»„ç‰›--&gt; æ‹¿åˆ°äº†ç¬¬8å¼ ç¥¨æå››--&gt; æ‹¿åˆ°äº†ç¬¬8å¼ ç¥¨é»„ç‰›--&gt; æ‹¿åˆ°äº†ç¬¬7å¼ ç¥¨å¼ ä¸‰--&gt; æ‹¿åˆ°äº†ç¬¬6å¼ ç¥¨æå››--&gt; æ‹¿åˆ°äº†ç¬¬5å¼ ç¥¨å¼ ä¸‰--&gt; æ‹¿åˆ°äº†ç¬¬3å¼ ç¥¨é»„ç‰›--&gt; æ‹¿åˆ°äº†ç¬¬4å¼ ç¥¨æå››--&gt; æ‹¿åˆ°äº†ç¬¬4å¼ ç¥¨æå››--&gt; æ‹¿åˆ°äº†ç¬¬2å¼ ç¥¨é»„ç‰›--&gt; æ‹¿åˆ°äº†ç¬¬1å¼ ç¥¨å¼ ä¸‰--&gt; æ‹¿åˆ°äº†ç¬¬2å¼ ç¥¨*///æ­¤æ—¶å¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œä¼šå‡ºç°é‡å¤æŠ¢ç¥¨çš„ç°è±¡\n\næ¨¡æ‹Ÿé¾Ÿå…”èµ›è·‘é—®é¢˜public class Race implements Runnable &#123;    private static String winnner;    @Override    public void run() &#123;        for (int i = 0; i &lt;= 100; i++) &#123;            boolean flag = gameOver(i);            if (flag) break;            //æ¨¡æ‹Ÿå…”å­è·‘10æ­¥åç¡è§‰            if (Thread.currentThread().getName().equals(&quot;å…”å­&quot;) &amp;&amp; i % 10 == 0) &#123;                try &#123;                    Thread.sleep(3);                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;            if (winnner == null)                System.out.println(Thread.currentThread().getName() + &quot;--&gt;è·‘äº†&quot; + i + &quot;æ­¥&quot;);        &#125;    &#125;    private boolean gameOver(int steps) &#123;        if (winnner != null) return true;        else &#123;            if (steps &gt;= 100) &#123;                winnner = Thread.currentThread().getName();                System.out.println(&quot;winner is &quot; + winnner);                return true;            &#125;        &#125;        return false;    &#125;    public static void main(String[] args) &#123;        Race race = new Race();        new Thread(race, &quot;å…”å­&quot;).start();        new Thread(race, &quot;ä¹Œé¾Ÿ&quot;).start();    &#125;&#125;\n\nLamdaè¡¨è¾¾å¼ç®€åŒ–å‡½æ•°å¼æ¥å£çš„è°ƒç”¨\npublic class LambdaDemo &#123;    public static void main(String[] args) &#123;        iLike like = () -&gt; &#123;            System.out.println(&quot;This is lambda&quot;);        &#125;;        like.lambda();    &#125;&#125;// 1. å®šä¹‰ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼ˆåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼‰interface iLike &#123;    void lambda();&#125;\n\nçº¿ç¨‹åœæ­¢å»ºè®®ä½¿ç”¨flagæ ‡å¿—ä½ä½¿å¾—çº¿ç¨‹åœæ­¢\npublic class StopDemo implements Runnable &#123;    // 1. è®¾ç½®æ ‡å¿—ä½    private boolean flag = true;    @Override    public void run() &#123;        int i = 0;        while (flag) &#123;            System.out.println(&quot;Thread running ......&quot; + i++);        &#125;    &#125;    public void stop() &#123;        this.flag = false;    &#125;    public static void main(String[] args) &#123;        StopDemo stopDemo = new StopDemo();        new Thread(stopDemo).start();        for (int i = 0; i &lt; 100; i++) &#123;            System.out.println(&quot;main&quot; + i);            if (i == 90) &#123;                stopDemo.stop();                System.out.println(&quot;çº¿ç¨‹ç»ˆæ­¢&quot;);            &#125;        &#125;    &#125;&#125;\n\nçº¿ç¨‹ä¼‘çœ //å€’è®¡æ—¶æ¨¡æ‹Ÿimport java.text.SimpleDateFormat;import java.util.Date;public class StopDemo &#123;    public static void main(String[] args) &#123;        Date currentTime = new Date(System.currentTimeMillis());        while (true) &#123;            try &#123;                Thread.sleep(1000);                System.out.println(new SimpleDateFormat(&quot;HH:mm:ss&quot;).format(currentTime));                currentTime = new Date(System.currentTimeMillis());            &#125; catch (InterruptedException e) &#123;                e.printStackTrace();            &#125;        &#125;    &#125;&#125;\n\nyieldçº¿ç¨‹ç¤¼è®©è®©çº¿ç¨‹ä»è¿è¡Œæ€è½¬æ¢ä¸ºå°±ç»ªæ€\npublic class YeildDemo &#123;    public static void main(String[] args) &#123;        Myield myield = new Myield();        new Thread(myield, &quot;a&quot;).start();        new Thread(myield, &quot;b&quot;).start();    &#125;&#125;class Myield implements Runnable &#123;    @Override    public void run() &#123;        System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹å¼€å§‹æ‰§è¡Œ&quot;);        Thread.yield(); // ç¤¼è®©        System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹æš‚åœæ‰§è¡Œ&quot;);    &#125;&#125;/*ç¤¼è®©åçš„æ‰§è¡Œç»“æœbçº¿ç¨‹å¼€å§‹æ‰§è¡Œaçº¿ç¨‹å¼€å§‹æ‰§è¡Œbçº¿ç¨‹æš‚åœæ‰§è¡Œaçº¿ç¨‹æš‚åœæ‰§è¡Œ*/\n\nçº¿ç¨‹å¼ºåˆ¶æ‰§è¡Œjoin//æŠ¢å å…¶ä»–çº¿ç¨‹public class joinDemo implements Runnable &#123;    @Override    public void run() &#123;        for (int i = 0; i &lt; 10; i++) &#123;            System.out.println(&quot;æ’å…¥çº¿ç¨‹&quot; + i);        &#125;    &#125;    public static void main(String[] args) &#123;        joinDemo joinDemo = new joinDemo();        Thread joinThread = new Thread(joinDemo);        joinThread.start();        for (int i = 0; i &lt; 10; i++) &#123;            if (i == 4) &#123;                try &#123;                    joinThread.join();                &#125; catch (InterruptedException e) &#123;                    e.printStackTrace();                &#125;            &#125;            System.out.println(&quot;mainçº¿ç¨‹&quot; + i);        &#125;    &#125;&#125;/*è¾“å‡ºç»“æœmainçº¿ç¨‹0mainçº¿ç¨‹1mainçº¿ç¨‹2mainçº¿ç¨‹3æ’å…¥çº¿ç¨‹0æ’å…¥çº¿ç¨‹1æ’å…¥çº¿ç¨‹2æ’å…¥çº¿ç¨‹3æ’å…¥çº¿ç¨‹4æ’å…¥çº¿ç¨‹5æ’å…¥çº¿ç¨‹6æ’å…¥çº¿ç¨‹7æ’å…¥çº¿ç¨‹8æ’å…¥çº¿ç¨‹9mainçº¿ç¨‹4mainçº¿ç¨‹5mainçº¿ç¨‹6mainçº¿ç¨‹7mainçº¿ç¨‹8mainçº¿ç¨‹9*/\n\nè§‚æµ‹çº¿ç¨‹çŠ¶æ€\nNEWï¼šå°šæœªå¯åŠ¨çš„çº¿ç¨‹çŠ¶æ€\nRUNNABLEï¼šåœ¨javaè™šæ‹Ÿæœºä¸­æ‰§è¡Œçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€\nBLOCKEDï¼šè¢«é˜»å¡ç­‰å¾…ç›‘è§†å™¨é”å®šçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€\nWAITINGï¼šæ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç‰¹å®šåŠ¨ä½œçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€\nTIMED_WAITINGï¼šæ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹åŠ¨ä½œè¾¾åˆ°æŒ‡å®šç­‰å¾…æ—¶é—´çš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€\nTERMINATEDï¼šå·²é€€å‡ºçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€\n\npublic class joinDemo &#123;    public static void main(String[] args) throws InterruptedException &#123;        Thread thread = new Thread(() -&gt; &#123;            for (int i = 0; i &lt; 3; i++) &#123;                try &#123;                    Thread.sleep(1000);                &#125; catch (InterruptedException e) &#123;                    throw new RuntimeException(e);                &#125;            &#125;            System.out.println(&quot;çº¿ç¨‹æ‰§è¡Œå®Œæ¯•&quot;);        &#125;);        //å®šä¹‰çº¿ç¨‹çŠ¶æ€        Thread.State state = thread.getState();        System.out.println(state); // NEW        thread.start();        state = thread.getState();        System.out.println(state); //RUNNABLE        while (thread.getState() != Thread.State.TERMINATED) &#123;            Thread.sleep(100);            state = thread.getState();            System.out.println(state);        &#125;    &#125;&#125;/*æ‰§è¡Œç»“æœNEWRUNNABLETIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGTIMED_WAITINGçº¿ç¨‹æ‰§è¡Œå®Œæ¯•TERMINATED*/\n\nçº¿ç¨‹ä¼˜å…ˆçº§ä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹ä¸ä¸€å®šå…ˆè·‘ï¼Œåªæ˜¯å…ˆè·‘çš„æ¦‚ç‡æ¯”è¾ƒå¤§\npublic class PriorityDemo implements Runnable &#123;    @Override    public void run() &#123;        System.out.println(Thread.currentThread().getName() + &quot;--&gt;&quot; + Thread.currentThread().getPriority());    &#125;    public static void main(String[] args) &#123;        System.out.println(Thread.currentThread().getName() + &quot;--&gt;&quot; + Thread.currentThread().getPriority());        PriorityDemo priorityDemo = new PriorityDemo();        Thread thread1 = new Thread(priorityDemo, &quot;a&quot;);        Thread thread2 = new Thread(priorityDemo, &quot;b&quot;);        Thread thread3 = new Thread(priorityDemo, &quot;c&quot;);        Thread thread4 = new Thread(priorityDemo, &quot;d&quot;);        Thread thread5 = new Thread(priorityDemo, &quot;e&quot;);        Thread thread6 = new Thread(priorityDemo, &quot;f&quot;);\t\t//è®¾ç½®ä¼˜å…ˆçº§        thread1.setPriority(Thread.MAX_PRIORITY);        thread1.start();        thread2.setPriority(7);        thread2.start();        thread3.setPriority(6);        thread3.start();        thread4.setPriority(5);        thread4.start();        thread5.setPriority(4);        thread5.start();        thread6.setPriority(3);        thread6.start();    &#125;&#125;/*è¾“å‡ºç»“æœmain--&gt;5e--&gt;4a--&gt;10d--&gt;5c--&gt;6b--&gt;7f--&gt;3*/\n\nå®ˆæŠ¤çº¿ç¨‹public class Daemon &#123;    public static void main(String[] args) &#123;        DaemonThread daemonThread = new DaemonThread();        UserThread userThread = new UserThread();        Thread thread = new Thread(daemonThread);        //è®¾ç½®å®ˆæŠ¤çº¿ç¨‹        thread.setDaemon(true);        thread.start();        new Thread(userThread).start();    &#125;&#125;class DaemonThread implements Runnable &#123;    @Override    public void run() &#123;        while (true) &#123;            try &#123;                Thread.sleep(2000);            &#125; catch (InterruptedException e) &#123;                throw new RuntimeException(e);            &#125;            System.out.println(&quot;Daemon thread running&quot;);        &#125;    &#125;&#125;class UserThread implements Runnable &#123;    @Override    public void run() &#123;        int k = 10;        while (k &gt; 0) &#123;            try &#123;                Thread.sleep(1000);            &#125; catch (InterruptedException e) &#123;                throw new RuntimeException(e);            &#125;            System.out.println(k + &quot;-user thread running&quot;);            k--;        &#125;    &#125;&#125;/*è¾“å‡ºç»“æœ10-user thread runningDaemon thread running9-user thread running8-user thread runningDaemon thread running7-user thread running6-user thread runningDaemon thread running5-user thread running4-user thread runningDaemon thread running3-user thread running2-user thread runningDaemon thread running1-user thread running/*\n\nçº¿ç¨‹åŒæ­¥ï¼å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”æŸäº›çº¿ç¨‹è¿˜æƒ³ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ï¼Œæ­¤æ—¶éœ€è¦çº¿ç¨‹åŒæ­¥ï¼Œçº¿ç¨‹åŒæ­¥æ˜¯ä¸€ç§ç­‰å¾…æœºåˆ¶ï¼Œå¤šä¸ªéœ€è¦åŒæ—¶è®¿é—®æ­¤å¯¹è±¡çš„çº¿ç¨‹è¿›å…¥è¿™ä¸ªå¯¹è±¡çš„ç­‰å¾…æ± å½¢æˆé˜Ÿåˆ—ï¼Œç­‰å¾…å‰é¢çº¿ç¨‹ä½¿ç”¨å®Œæ¯•ï¼Œä¸‹ä¸€ä¸ªçº¿ç¨‹åœ¨ä½¿ç”¨\nå½¢æˆæ¡ä»¶ï¼šé˜Ÿåˆ— + é”\né”çš„æ˜¯å…±äº«çš„å¯¹è±¡\n//ä¹°ç¥¨é—®é¢˜è§£å†³public class ThreadDemo implements Runnable &#123;    private int ticketNum = 10;    boolean flag = true;    @Override    public void run() &#123;        while (flag) &#123;            try &#123;                buy();                Thread.sleep(1000);            &#125; catch (InterruptedException e) &#123;                e.printStackTrace();            &#125;        &#125;    &#125;    //æ·»åŠ synchronizedè¡¨æ˜æ˜¯åŒæ­¥æ–¹æ³•    private synchronized void buy()&#123;        if(ticketNum &lt;= 0)&#123;            flag = false;            return;        &#125;        System.out.println(Thread.currentThread().getName() + &quot;--&gt; æ‹¿åˆ°äº†ç¬¬&quot; + ticketNum-- + &quot;å¼ ç¥¨&quot;);    &#125;    public static void main(String[] args) &#123;        ThreadDemo ticket = new ThreadDemo();        new Thread(ticket, &quot;å¼ ä¸‰&quot;).start();        new Thread(ticket, &quot;æå››&quot;).start();        new Thread(ticket, &quot;é»„ç‰›&quot;).start();    &#125;&#125;\n\næ­»é”å¤šä¸ªçº¿ç¨‹äº’ç›¸å æœ‰ç€å¯¹æ–¹éœ€è¦çš„èµ„æºï¼Œå½¢æˆæ­»é”\npublic class DeadLock &#123;    public static void main(String[] args) &#123;        Occupy personA = new Occupy(&quot;a&quot;);        Occupy personB = new Occupy(&quot;b&quot;);        new Thread(personA, &quot;a&quot;).start();        new Thread(personB, &quot;b&quot;).start();    &#125;&#125;class goodA &#123; &#125;class goodB &#123; &#125;class Occupy implements Runnable&#123;    static goodA goodA = new goodA();    static goodB goodB = new goodB();    private String Name;    Occupy(String Name)&#123;        this.Name = Name;    &#125;    @Override    public void run() &#123;        try &#123;            holds();        &#125; catch (InterruptedException e) &#123;            throw new RuntimeException(e);        &#125;    &#125;    private void holds() throws InterruptedException &#123;        //ä»£ç ä¸­ï¼Œaå æ®Aç‰©å“åï¼Œä¼‘çœ 3sï¼Œåœ¨è¿™æœŸé—´bæ‹¿åˆ°ç‰©å“Bè¿›å…¥ä¼‘çœ ï¼Œaä¼‘çœ ç»“æŸåç‰©å“Aå·²ç»è¢«Bå æ®ï¼Œbä¼‘çœ ç»“æŸåç‰©å“Aå·²è¢«aå æ®ï¼Œæ­¤æ—¶åŒæ–¹éƒ½æ— æ³•æ‹¿åˆ°å¦ä¸€ä¸ªç‰©å“ï¼Œé€ æˆæ­»é”        if (Name == &quot;a&quot;) &#123;            synchronized (goodA) &#123;                System.out.println(Thread.currentThread().getName() + &quot;å æœ‰äº†&quot; + &quot;ç‰©å“A&quot;);                Thread.sleep(3000);                synchronized (goodB) &#123;                    System.out.println(Thread.currentThread().getName() + &quot;å æœ‰äº†&quot; + &quot;ç‰©å“B&quot;);                &#125;            &#125;        &#125; else &#123;            synchronized (goodB) &#123;                System.out.println(Thread.currentThread().getName() + &quot;å æœ‰äº†&quot; + &quot;ç‰©å“B&quot;);                Thread.sleep(3000);                synchronized (goodA) &#123;                    System.out.println(Thread.currentThread().getName() + &quot;å æœ‰äº†&quot; + &quot;ç‰©å“A&quot;);                &#125;            &#125;        &#125;    &#125;&#125;\n\näº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶\n\näº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨\nè¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹æ–¹è·å¾—çš„èµ„æºä¿æŒä¸æ”¾\nä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤º\nå¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»\n\n","categories":["java"],"tags":["javaå¤šçº¿ç¨‹"]},{"title":"åˆ†å‰²é“¾è¡¨","url":"/2023/02/11/%E5%88%86%E5%89%B2%E9%93%BE%E8%A1%A8/","content":"Leetcode-86åˆ†å‰²é“¾è¡¨å¯ä»¥çœ‹ä½œæ˜¯å¿«æ’é“¾è¡¨çš„ç®€åŒ–ç‰ˆæœ¬\n\n/** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode() : val(0), next(nullptr) &#123;&#125; *     ListNode(int x) : val(x), next(nullptr) &#123;&#125; *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125; * &#125;; */class Solution &#123;public:    ListNode* partition(ListNode* head, int x) &#123;        auto small = new ListNode(-1);        auto large = new ListNode(-1);        auto l = small, r = large;        while(head)&#123;            if(head -&gt; val &lt; x)&#123;                small -&gt; next = head;                small = small -&gt; next;            &#125;else&#123;                large -&gt; next = head;                large= large -&gt; next;            &#125;            head = head -&gt; next;        &#125;        large -&gt; next = NULL;        small -&gt; next = r -&gt; next;        return l -&gt; next;    &#125;&#125;;","categories":["åˆ·é¢˜æ—¥è®°"],"tags":["åˆ·é¢˜æ—¥è®°"]},{"title":"å‰‘æŒ‡offer30.åŒ…å«minå‡½æ•°çš„æ ˆ","url":"/2023/02/12/%E5%89%91%E6%8C%87offer30-%E5%8C%85%E5%90%ABmin%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%88/","content":"å®šä¹‰å­˜æ”¾æœ€å°æ•°çš„è¾…åŠ©æ ˆï¼Œå…ƒç´ é¡ºåºä¸ä¸»æ ˆä¸€è‡´\n\nclass MinStack &#123;    stack&lt;int&gt; x_stack;    stack&lt;int&gt; min_stack;public:    MinStack() &#123;        min_stack.push(INT_MAX);    &#125;        void push(int x) &#123;        x_stack.push(x);        min_stack.push(::min(min_stack.top(), x));    &#125;        void pop() &#123;        x_stack.pop();        min_stack.pop();    &#125;        int top() &#123;        return x_stack.top();    &#125;        int min() &#123;        return min_stack.top();    &#125;&#125;;","categories":["åˆ·é¢˜æ—¥è®°"],"tags":["åˆ·é¢˜æ—¥è®°"]},{"title":"å›æº¯","url":"/2023/02/20/%E5%9B%9E%E6%BA%AF/","content":"å›æº¯ç®—æ³•å¸¸ç”¨æ¥å¤„ç†ç»„åˆï¼Œåˆ‡å‰²ï¼Œæ’åˆ—ç­‰é—®é¢˜\n\nå›æº¯æ¨¡æ¿func back(/*å‚æ•°*/)&#123;    if /*æ¡ä»¶*/ &#123;        //åˆ°åº•äº†ï¼Œæ”¶é›†ç»“æœ        return    &#125;    for &#123;        //å¤„ç†èŠ‚ç‚¹        //é€’å½’        //å›æº¯æ“ä½œ    &#125;&#125;","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]},{"title":"äºŒå‰æ ‘è·¯å¾„é—®é¢˜","url":"/2023/02/13/%E4%BA%8C%E5%8F%89%E6%A0%91%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/","content":"åœ¨lcä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°äºŒå‰æ ‘è·¯å¾„é—®é¢˜ï¼Œæ­¤ç±»é—®é¢˜ä¸€èˆ¬ä½¿ç”¨DFSæ±‚è§£\n\nè‡ªé¡¶å‘ä¸‹ä¸€èˆ¬è·¯å¾„\nvector&lt;vector&lt;int&gt;&gt;res;void dfs(TreeNode*root,vector&lt;int&gt;path)&#123;    if(!root) return;  //æ ¹èŠ‚ç‚¹ä¸ºç©ºç›´æ¥è¿”å›    path.push_back(root-&gt;val);  //ä½œå‡ºé€‰æ‹©    if(!root-&gt;left &amp;&amp; !root-&gt;right) //å¦‚æœåˆ°å¶èŠ‚ç‚¹      &#123;        res.push_back(path);        return;    &#125;    dfs(root-&gt;left,path);  //ç»§ç»­é€’å½’    dfs(root-&gt;right,path);&#125;\nç»™å®šå’Œçš„è·¯å¾„\nvoid dfs(TreeNode*root, int sum, vector&lt;int&gt; path)&#123;    if (!root)        return;    sum -= root-&gt;val;    path.push_back(root-&gt;val);    if (!root-&gt;left &amp;&amp; !root-&gt;right &amp;&amp; sum == 0) //å’Œä¸º0ä»£è¡¨æ‰¾åˆ°äº†ç­‰äºå’Œçš„è·¯å¾„    &#123;        res.push_back(path); //è·¯å¾„pushè¿›ç»“æœ        return;    &#125;    dfs(root-&gt;left, sum, path);    dfs(root-&gt;right, sum, path);&#125;\n\nä¾‹é¢˜è·¯å¾„æ€»å’ŒäºŒ\n/** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125; * &#125;; */class Solution &#123;    public:    vector&lt;vector&lt;int&gt;&gt; res; //ç»“æœé›†    void dfs(TreeNode* root, int sum, vector&lt;int&gt; path)&#123;        if(!root) return;        sum -= root -&gt; val;        path.push_back(root -&gt; val);        //åˆ¤å®šå¶å­èŠ‚ç‚¹ä¸å’Œæ˜¯å¦ç›¸ç­‰ä¸¤ä¸ªæ¡ä»¶        if(!root -&gt; left &amp;&amp; !root -&gt; right &amp;&amp; sum == 0)&#123;            res.push_back(path);            return;        &#125;        dfs(root -&gt; left, sum, path);        dfs(root -&gt; right, sum, path);    &#125;        vector&lt;vector&lt;int&gt;&gt; pathSum(TreeNode* root, int targetSum) &#123;        vector&lt;int&gt; path;        dfs(root, targetSum, path);        return res;    &#125;&#125;;\nè·¯å¾„æ€»å’Œä¸‰\nclass Solution &#123;public:    int rootSum(TreeNode* root, long targetSum) &#123;        if (!root) &#123;            return 0;        &#125;        int ret = 0;        if (root-&gt;val == targetSum) &#123;            ret++;        &#125;         //ç”±äºå¯ä»¥ä¸åœ¨æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå› æ­¤éœ€è¦é€’å½’å·¦å³èŠ‚ç‚¹        ret += rootSum(root-&gt;left, targetSum - root-&gt;val);        ret += rootSum(root-&gt;right, targetSum - root-&gt;val);        return ret;    &#125;    int pathSum(TreeNode* root, int targetSum) &#123;        if (!root) &#123;            return 0;        &#125;                int ret = rootSum(root, targetSum);        ret += pathSum(root-&gt;left, targetSum);        ret += pathSum(root-&gt;right, targetSum);        return ret;    &#125;&#125;;\nä»å¶èŠ‚ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²\n/** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125; * &#125;; */class Solution &#123;public:    vector&lt;string&gt; path;    string smallestFromLeaf(TreeNode* root) &#123;        dfs(root, &quot;&quot;);        sort(path.begin(), path.end());        return path[0];    &#125;        void dfs(TreeNode* root, string s)&#123;        if(!root) return;        s += &#x27;a&#x27; + root -&gt; val;        if(!root -&gt; left &amp;&amp; !root -&gt; right)&#123;            reverse(s.begin(), s.end());            path.push_back(s);        &#125;        dfs(root -&gt; left, s);        dfs(root -&gt; right, s);    &#125;&#125;;\n\néè‡ªé¡¶å‘ä¸‹äºŒå‰æ ‘ä¸­æœ€å¤§è·¯å¾„å’Œ\n/** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125; * &#125;; */class Solution &#123;public:    int res = INT_MIN;    int dfs(TreeNode* root)&#123;        if(!root) return 0;        int left = max(dfs(root -&gt; left), 0);        int right = max(dfs(root -&gt; right), 0);        res = max(res, left + right + root -&gt; val);        return max(left + root -&gt; val, right + root -&gt; val);    &#125;        int maxPathSum(TreeNode* root) &#123;        dfs(root);        return res;    &#125;&#125;;","categories":["åˆ·é¢˜æ—¥è®°"],"tags":["åˆ·é¢˜æ—¥è®°"]},{"title":"å¤±è´¥ç»å†","url":"/2023/02/10/%E5%A4%B1%E8%B4%A5%E7%BB%8F%E5%8E%86/","content":"åˆšå»è‡ªä¹ å®¤çš„å‰å‡ å¤©ï¼Œå°±æ³¨æ„åˆ°äº†éš”åº§çš„å¥³ç”Ÿï¼Œä¸çŸ¥ä¸ºä½•ï¼Œçœ‹åˆ°å¥¹çš„ç¬¬ä¸€çœ¼å°±æœ‰ç§è¯´ä¸å‡ºçš„æ„Ÿè§‰ã€‚çº ç»“äº†è®¸ä¹…ï¼Œç»ˆäºåœ¨å‰å¤©å¥³ç”Ÿæ™šä¸Šå›å®¶åï¼Œåœ¨å¥¹çš„æ¡Œå­ä¸Šç•™ä¸‹äº†è¦è”ç³»æ–¹å¼çš„çº¸æ¡ã€‚ä¸€æ™šå¿å¿‘åï¼Œç¬¬äºŒå¤©æ— äº‹å‘ç”Ÿï¼Œè›®æƒ³å†äº‰å–ä¸€ä¸‹ï¼Œä½†æƒ³åˆ°ä¼šæ‰“æ‰°åˆ°å¥³ç”Ÿï¼Œæ€è™‘å†ä¸‰è¿˜æ˜¯æ”¾å¼ƒäº†ã€‚å°±åœ¨ä»Šå¤©ï¼Œç»ˆäºæ”¶åˆ°äº†å¥³ç”Ÿçš„å›å¤ï¼š\nè°¢è°¢æŠ±æ­‰ä¹Ÿç¥ä½ æ—©æ—¥ä¸Šå²¸\nçœ‹åˆ°å†…å®¹åè¯´ä¸ä¸Šéš¾è¿‡ï¼Œä¹Ÿè®¸å¥³ç”Ÿæ—©æœ‰æ‰€å±ï¼Œä¹Ÿè®¸ç°é˜¶æ®µæ²¡æœ‰è®¤è¯†ä¸€ä¸ªé™Œç”Ÿäººçš„ç²¾åŠ›ç½¢äº†ã€‚èæ°´ç›¸é€¢ï¼Œå‡ å¤©åä¾¿æˆäº†é™Œç”Ÿäººï¼Œéš¾å…ä¼šæœ‰äº›é—æ†¾ã€‚æƒ³èµ·ä¸Šæ¬¡æœ‰è¿™ç§æ„Ÿè§‰è¿˜æ˜¯åœ¨å…­å¹´å‰ï¼Œä¸çŸ¥é“ä¸‹æ¬¡æ˜¯ä»€ä¹ˆæ—¶å€™ã€‚åªå¸Œæœ›æˆ‘çš„çº¸æ¡èƒ½ç»™å¥³ç”Ÿå¹³æ·¡çš„å¤‡è€ƒæœŸå¸¦æ¥ä¸€ä¸æƒŠå–œå§ ~\n\n\n","categories":["æ—¥è®°"],"tags":["æ‚è¯­"]},{"title":"å †","url":"/2023/02/09/%E5%A0%86/","content":"å †å°æ ¹å †ä¸‹æ ‡åœ¨1å¼€å§‹æ¯ä¸€ä¸ªç‚¹éƒ½å°äºç­‰äºå·¦å³å­èŠ‚ç‚¹\n\næ ‘çš„ä¸€ä½æ•°ç»„å­˜å‚¨æ–¹å¼ï¼šç´¢å¼•ä¸ºxçš„èŠ‚ç‚¹ï¼Œå·¦å­èŠ‚ç‚¹ä¸º2xï¼Œå³å­èŠ‚ç‚¹ä¸º2x+1\næ’å…¥ä¸€ä¸ªå…ƒç´ ï¼šåœ¨æ ‘çš„æœ€åä¸€ä¸ªå…ƒç´ åæ’å…¥ï¼Œç„¶åæ ¹æ®å¤§å°å‘ä¸Šç§»åŠ¨ï¼Œheap[++size] = x; up(size)\nå †ä¸­çš„æœ€å°å€¼ï¼šheap[1]\nå †ä¸­åˆ é™¤æœ€å°å€¼ï¼šå…ˆä½¿ç”¨æœ€åä¸€ä¸ªç‚¹è¦†ç›–æ‰å¤´èŠ‚ç‚¹ï¼Œå†æŠŠå°¾èŠ‚ç‚¹åˆ æ‰ï¼Œæœ€åä¸‹æ²‰å¤´èŠ‚ç‚¹heap[1] = heap[size]; sizeâ€”-; down(1)\nå †ä¸­åˆ é™¤ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼šheap[k] = heap[size]; sizeâ€”-ï¼Œå†æ ¹æ®kä½å…ƒç´ å˜å¤§è¿˜æ˜¯å˜å°ä½¿ç”¨down(k)æˆ–è€…up(k)\nå †ä¸­ä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼šheap[x] = k;åœ¨down(x)æˆ–è€…up(x)\n\nå †æ’åº\n#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int N = 100010;int n, m;int h[N], cnt;//upæ“ä½œvoid up(int u)&#123;    while(u / 2 &amp;&amp; h[u / 2] &lt; h[u]) &#123;        swap(h[u / 2], h[u]);        u /= 2;    &#125;&#125;void down(int u)&#123;    int t = u;    if (u * 2 &lt;= cnt &amp;&amp; h[u * 2] &lt; h[t]) t = u * 2;    if (u * 2 + 1 &lt;= cnt &amp;&amp; h[u * 2 + 1] &lt; h[t]) t = u * 2 + 1;    if (u != t)    &#123;        swap(h[u], h[t]);        down(t);    &#125;&#125;int main()&#123;    scanf(&quot;%d%d&quot;, &amp;n, &amp;m);    for (int i = 1; i &lt;= n; i ++ ) scanf(&quot;%d&quot;, &amp;h[i]);    cnt = n;    for (int i = n / 2; i; i -- ) down(i);    while (m -- )    &#123;        printf(&quot;%d &quot;, h[1]);        h[1] = h[cnt -- ];        down(1);    &#125;    puts(&quot;&quot;);    return 0;&#125;\nå½“éœ€è¦æ“ä½œå †ä¸­ç¬¬kä¸ªå…ƒç´ æ—¶ï¼Œè¦åŠ å…¥æ˜ å°„å…³ç³»acwingæ¨¡æ‹Ÿå †ï¼š\n#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;const int N = 100010;int h[N], ph[N], hp[N], cnt;void heap_swap(int a, int b)&#123;    swap(ph[hp[a]],ph[hp[b]]);    swap(hp[a], hp[b]);    swap(h[a], h[b]);&#125;void down(int u)&#123;    int t = u;    if (u * 2 &lt;= cnt &amp;&amp; h[u * 2] &lt; h[t]) t = u * 2;    if (u * 2 + 1 &lt;= cnt &amp;&amp; h[u * 2 + 1] &lt; h[t]) t = u * 2 + 1;    if (u != t)    &#123;        heap_swap(u, t);        down(t);    &#125;&#125;void up(int u)&#123;    while (u / 2 &amp;&amp; h[u] &lt; h[u / 2])    &#123;        heap_swap(u, u / 2);        u &gt;&gt;= 1;    &#125;&#125;int main()&#123;    int n, m = 0;    scanf(&quot;%d&quot;, &amp;n);    while (n -- )    &#123;        char op[5];        int k, x;        scanf(&quot;%s&quot;, op);        if (!strcmp(op, &quot;I&quot;))        &#123;            scanf(&quot;%d&quot;, &amp;x);            cnt ++ ;            m ++ ;            ph[m] = cnt, hp[cnt] = m;            h[cnt] = x;            up(cnt);        &#125;        else if (!strcmp(op, &quot;PM&quot;)) printf(&quot;%d\\n&quot;, h[1]);        else if (!strcmp(op, &quot;DM&quot;))        &#123;            heap_swap(1, cnt);            cnt -- ;            down(1);        &#125;        else if (!strcmp(op, &quot;D&quot;))        &#123;            scanf(&quot;%d&quot;, &amp;k);            k = ph[k];            heap_swap(k, cnt);            cnt -- ;            up(k);            down(k);        &#125;        else        &#123;            scanf(&quot;%d%d&quot;, &amp;k, &amp;x);            k = ph[k];            h[k] = x;            up(k);            down(k);        &#125;    &#125;    return 0;&#125;","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]},{"title":"å“ˆå¸Œ","url":"/2023/02/09/%E5%93%88%E5%B8%8C/","content":"å“ˆå¸Œåœ¨é¢˜ç›®ä¸­é€šå¸¸ä½¿ç”¨Mapå®¹å™¨å’ŒSetå®¹å™¨æ¥è¿›è¡Œå“ˆå¸Œæ“ä½œï¼Œå“ˆå¸Œçš„å®ç°ä¸»è¦æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯æ‹‰é“¾æ³•å’Œå¼€æ”¾å¯»å€æ³•ï¼ˆè¹²å‘æ³•ï¼Ÿï¼‰\næ‹‰é“¾æ³•å¯¹äºæ•°xï¼Œä½¿ç”¨æŸä¸ªè´¨æ•°ä»¤xå–æ¨¡åï¼ŒæŠŠä½™æ•°ä½œä¸ºä¸‹æ ‡å­˜å‚¨ï¼Œå‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼Œå°†å‘ç”Ÿå†²çªçš„æ•°åƒé“¾è¡¨ä¸€æ ·æ¥åˆ°å‘ç”Ÿå†²çªçš„æ•°åé¢ã€‚\næ¨¡æ‹Ÿæ•£åˆ—è¡¨ï¼š\n#include &lt;cstring&gt;#include &lt;iostream&gt;using namespace std;const int N = 100003;int h[N], e[N], ne[N], idx;void insert(int x)&#123;    int k = (x % N + N) % N;    e[idx] = x;    ne[idx] = h[k];    h[k] = idx ++ ;&#125;bool find(int x)&#123;    int k = (x % N + N) % N;    for (int i = h[k]; i != -1; i = ne[i])        if (e[i] == x)            return true;    return false;&#125;int main()&#123;    int n;    scanf(&quot;%d&quot;, &amp;n);    memset(h, -1, sizeof h);    while (n -- )    &#123;        char op[2];        int x;        scanf(&quot;%s%d&quot;, op, &amp;x);        if (*op == &#x27;I&#x27;) insert(x);        else        &#123;            if (find(x)) puts(&quot;Yes&quot;);            else puts(&quot;No&quot;);        &#125;    &#125;    return 0;&#125;\n\nå¼€æ”¾å¯»å€æ³•\n#include &lt;cstring&gt;#include &lt;iostream&gt;using namespace std;const int N = 200003, null = 0x3f3f3f3f;int h[N];int find(int x)&#123;    int t = (x % N + N) % N;    while (h[t] != null &amp;&amp; h[t] != x)    &#123;        t ++ ;        if (t == N) t = 0;    &#125;    return t;&#125;int main()&#123;    memset(h, 0x3f, sizeof h);    int n;    scanf(&quot;%d&quot;, &amp;n);    while (n -- )    &#123;        char op[2];        int x;        scanf(&quot;%s%d&quot;, op, &amp;x);        if (*op == &#x27;I&#x27;) h[find(x)] = x;        else        &#123;            if (h[find(x)] == null) puts(&quot;No&quot;);            else puts(&quot;Yes&quot;);        &#125;    &#125;    return 0;&#125;\n\nå­—ç¬¦ä¸²å“ˆå¸Œacwingé¢˜ç›®ï¼šå­—ç¬¦ä¸²å“ˆå¸Œ\n#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef unsigned long long ULL;const int N = 100010, P = 131;int n, m;char str[N];ULL h[N], p[N];ULL get(int l, int r)&#123;    return h[r] - h[l - 1] * p[r - l + 1];&#125;int main()&#123;    scanf(&quot;%d%d&quot;, &amp;n, &amp;m);    scanf(&quot;%s&quot;, str + 1);    p[0] = 1;    for (int i = 1; i &lt;= n; i ++ )    &#123;        h[i] = h[i - 1] * P + str[i];        p[i] = p[i - 1] * P;    &#125;    while (m -- )    &#123;        int l1, r1, l2, r2;        scanf(&quot;%d%d%d%d&quot;, &amp;l1, &amp;r1, &amp;l2, &amp;r2);        if (get(l1, r1) == get(l2, r2)) puts(&quot;Yes&quot;);        else puts(&quot;No&quot;);    &#125;    return 0;&#125;","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]},{"title":"å¯„ï¼","url":"/2023/02/09/%E6%80%82/","content":"è®°å½•ä»Šå¤©ï¼Œç»™å¥³ç”Ÿè¦è”ç³»æ–¹å¼å¤±è´¥äº†ï¼Œæˆ‘å¤ªæ€‚äº†å•Šå•Šå•Šï¼ï¼ï¼\n","categories":["æ—¥è®°"],"tags":["æ‚è¯­"]},{"title":"ç•™è¨€æ¿","url":"/2023/02/09/%E7%95%99%E8%A8%80%E6%9D%BF/","content":"å¿«æ¥ç•™è¨€å§ ~\n","categories":["ç•™è¨€æ¿"]},{"title":"æ’åºé“¾è¡¨","url":"/2023/02/11/%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8/","content":"Leetcode-148èµ·åˆæƒ³è¦ç”¨å¿«æ’ï¼Œä½†lcç»™çš„ç”¨ä¾‹å¤ªæ¶å¿ƒäº†ï¼Œæ€»æ˜¯ä¼šè¶…æ—¶ã€‚å¿«æ’ä»£ç ï¼š\n\n/** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode() : val(0), next(nullptr) &#123;&#125; *     ListNode(int x) : val(x), next(nullptr) &#123;&#125; *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125; * &#125;; */class Solution &#123;public:    ListNode* gettail(ListNode* head)&#123;        while(head -&gt; next) head = head -&gt; next;        return head;    &#125;        ListNode* sortList(ListNode* head) &#123;        if(!head || !head -&gt; next) return head;        auto left = new ListNode(-1), mid = new ListNode(-1), right = new ListNode(-1);        auto ltail = left, mtail = mid, rtail = right;        int val = head -&gt; val;        for(auto p = head; p; p = p -&gt; next)&#123;            if(p -&gt; val &lt; val) ltail = ltail -&gt; next = p;            else if(p -&gt; val == val) mtail = mtail -&gt; next = p;            else rtail = rtail -&gt; next = p;        &#125;        ltail -&gt; next = mtail -&gt; next = rtail -&gt; next = NULL;        left -&gt; next = sortList(left -&gt; next);        right -&gt; next = sortList(right -&gt; next);                gettail(left) -&gt; next = mid -&gt; next;        gettail(left) -&gt; next = right -&gt; next;                auto p = left -&gt; next;        delete left;        delete mid;        delete right;        return p;    &#125;&#125;;\næœ€åä½¿ç”¨å½’å¹¶æ¥è§£å†³é—®é¢˜\nclass Solution &#123;public:    ListNode* sortList(ListNode* head) &#123;        if (!head || !head-&gt;next) return head;        auto slow = head, fast = head;        while (fast-&gt;next &amp;&amp; fast-&gt;next-&gt;next)            slow = slow-&gt;next, fast = fast-&gt;next-&gt;next;        fast = slow-&gt;next, slow-&gt;next = nullptr;        return merge(sortList(head), sortList(fast));    &#125;private:    ListNode* merge(ListNode* l1, ListNode* l2) &#123;        ListNode sub(0), *ptr = &amp;sub;        while (l1 &amp;&amp; l2) &#123;            auto &amp;node = l1-&gt;val &lt; l2-&gt;val ? l1 : l2;            ptr = ptr-&gt;next = node, node = node-&gt;next;        &#125;        ptr-&gt;next = l1 ? l1 : l2;        return sub.next;    &#125;&#125;;","categories":["åˆ·é¢˜æ—¥è®°"],"tags":["åˆ·é¢˜æ—¥è®°"]},{"title":"å¿«æ’-å½’å¹¶-äºŒåˆ†","url":"/2023/01/30/%E5%BF%AB%E6%8E%92-%E5%BD%92%E5%B9%B6-%E4%BA%8C%E5%88%86/","content":"å¿«é€Ÿæ’åº\nç¡®å®šåˆ†ç•Œç‚¹xï¼Œé€šå¸¸é€‰å–å·¦ç«¯ç‚¹ï¼Œä¸­é—´å€¼æˆ–å³ç«¯ç‚¹\nè°ƒæ•´åŒºé—´ï¼Œä½¿å¾—å·¦åŒºé—´éƒ½å°äºç­‰äºxï¼Œå³åŒºé—´éƒ½å¤§äºç­‰äºx\né€’å½’å¤„ç†å·¦å³ä¸¤æ®µè°ƒæ•´åŒºé—´çš„æ€è·¯ï¼šå½“ q[i] &lt; x æˆ–è€… q[j] &gt; xæ—¶ï¼ŒåŒæŒ‡é’ˆä¸åœå‘ä¸­é—´ç§»åŠ¨ï¼Œå½“ä¸¤è€…éƒ½ä¸æ»¡è¶³æ¡ä»¶ï¼Œä¸”i &lt; jæ—¶ï¼Œäº¤æ¢å€¼void quick_sort(int q[], int l, int r)&#123;    if(l &gt;= r) return;    int x = q[(l + r) / 2], I = l - 1, j = r + 1;    while(i &lt; j)&#123;        do i++; while(q[i] &lt; x);        do jâ€”-; while(q[j] &gt; x);        if(i &lt; j) swap(q[i], q[j]);     &#125;    quick_sort(q, l, j);    quick_sort(q, j+1, r);&#125; \n\nå½’å¹¶æ’åº\né€‰å–ä¸­é—´ç‚¹mid = ï¼ˆ1 + rï¼‰ / 2\né€’å½’å·¦å³ä¸¤åŒºé—´ï¼Œå¾—åˆ°å•è°ƒé€’å¢çš„å·¦å³åŒºé—´\nå½’å¹¶å·¦å³ä¸¤åŒºé—´å½’å¹¶åŒºé—´çš„æ€è·¯ï¼šå¼€è¾Ÿæ–°æ•°ç»„tmpï¼ŒåŒæŒ‡é’ˆi, j åˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªåŒºé—´çš„ç«¯ç‚¹ï¼Œå°†i, jæŒ‡é’ˆæŒ‡å‘è¾ƒå°çš„æ•°æ”¾å…¥tmpï¼Œå½“æŸæ®µåŒºé—´ç»“æŸæ—¶ï¼Œå°†å¦ä¸€æ®µåŒºé—´å‰©ä½™çš„æ•°ç›´æ¥æ¥åˆ°ansæ•°ç»„æœ€åã€‚void merge_sort(int q[], int l, int r)&#123;    if(l &lt;= r) return;    int mid = l + r &gt;&gt; 1;    merge_sort(q, l, mid), merge_sort(q, mid + 1, r);    int i = l, j = mid + 1, k = 0;    while(i &lt;= mid &amp;&amp; j &lt;= r)&#123;        if(q[i] &lt;= q[j]) tmp[k++] = q[i++];        else tmp[k++] = q[j++];    &#125;    while(l &lt;= mid) tmp[k++] = q[i++];    while(j &lt;= r) tmp[k++] = q[j++];    for(i = l, j = 0; i &lt; r; i++, j++) q[i] = tmp[j];&#125;\n\næ•´æ•°äºŒåˆ†å–ä¸­é—´å€¼æ—¶éœ€è¦æ³¨æ„ï¼Œå¦‚æœr = midåˆ™ä¸­å€¼å–l + r &gt;&gt; 1ï¼Œå¦‚æœæ˜¯l = midåˆ™ä¸­å€¼å–l + r + 1 &gt;&gt;1é¢˜ç›®ç¤ºä¾‹ï¼šæ•°çš„èŒƒå›´ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„é•¿åº¦ä¸ºnçš„æ•´æ•°æ•°ç»„ï¼Œä»¥åŠqä¸ªæŸ¥è¯¢ã€‚å¯¹äºæ¯ä¸ªæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªå…ƒç´ kçš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼ˆä½ç½®ä»0å¼€å§‹è®¡æ•°ï¼‰ã€‚å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å›-1 -1ã€‚\nint main()&#123;    while(queryCountâ€”-)&#123;        int l = 0, r = n - 1;        while(l &lt; r)&#123;            int mid = l + r &gt;&gt; 1;            if(q[mid] &gt;= x) r = mid;            else l = mid + 1;         &#125;        if(q[l] != x) cout &lt;&lt; â€œ-1 -1â€ &lt;&lt; endl;        else &#123;            cout &lt;&lt; l &lt;&lt; â€œ â€;            int l = 0; r = n - 1;             while(l &lt; r)&#123;                int mid = l + r + 1 &gt;&gt; 1;                if(q[mid] &lt;= x) l = mid;                else r = mid - 1;            &#125;            cout &lt;&lt; l &lt;&lt; endl;        &#125;    &#125;    return 0;&#125;\n\næµ®ç‚¹æ•°äºŒåˆ†int main()&#123;    double l = 0, r = x;    while(r - 1 &gt; 1e-6)&#123;        double mid = (l + r) / 2;        if(mid * mid &gt;= x) r = mid;        else l = mid;        &#125;    cout &lt;&lt; l;&#125;\n","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]},{"title":"é«˜ç²¾åº¦-å‰ç¼€å’Œ-å·®åˆ†","url":"/2023/02/09/%E9%AB%98%E7%B2%BE%E5%BA%A6-%E5%89%8D%E7%BC%80%E5%92%8C-%E5%B7%AE%E5%88%86/","content":"é«˜ç²¾åº¦å¤§æ•´æ•°å­˜å‚¨ï¼šä½¿ç”¨æ•°ç»„å­˜å–å¤§æ•´æ•°ï¼Œç”±äºåœ¨æ•°ç»„çš„æœ«å°¾æ·»åŠ å€¼è¦æ¯”åœ¨å¼€å¤´æ·»åŠ å®¹æ˜“ï¼Œå› æ­¤æ•°ç»„çš„0ä½ä¸€èˆ¬å­˜å–å¤§æ•´æ•°çš„ä¸ªä½ã€‚é«˜ç²¾åº¦åœ¨å¾ˆå¤šéœ€è¦æ±‚è¡¥ä½çš„é¢˜ç›®ä¸­ä¼šé‡åˆ°ï¼Œè¯¦æƒ…è§Leetcodeã€‚é«˜ç²¾åº¦åŠ æ³•ï¼šä»£ç ä¸­ä½¿ç”¨kè¡¨ç¤ºè¿›ä½ï¼Œæ¯æ¬¡å¾ªç¯è®¡ç®—ä¸¤æ•°ç›¸åŠ ç»“æœå’Œk\n\nvector&lt;int&gt; add(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B)&#123;    vector&lt;int&gt; C;    int t = 0;    for(int i = 0; i &lt; A.size() || i &lt; B.size(); i++)&#123;        //A + Bç»“æœå­˜åˆ°tä¸­        if(i &lt; A.size()) t += A[i];        if(i &lt; B.size()) t += B[i];                //ä¸ªä½å­˜åˆ°Cä¸­        C.push_back(t % 10);                //å¦‚æœt &gt; 10, tå–è¿›ä½        t /= 10;    &#125;    if(t) C.push_back(t);    return C;&#125;\n\né«˜ç²¾åº¦å‡æ³•ï¼š\nvector&lt;int&gt; sub(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B)&#123;    vector&lt;int&gt; C;    int t = 0;    for(int i = 0; i &lt; A.size() || i &lt; B.size(); i++)&#123;        //t ç­‰äºè¢«å‡æ•°å‡å»å€Ÿä½        t = A[i] - t;        if(i &lt; B.size()) t -= B[i];        C.push_back((t + 10) % 10);                //å¦‚æœ t &lt; 0 è¯æ˜å­˜åœ¨å€Ÿä½        if(t &lt; 0) t = 1;        else t = 0;    &#125;    //æŠŠç»“æœå‰é¢çš„0å»æ‰    while(C.size() &gt; 1 &amp;&amp; c.back() == 0) C.pop_back();    return C;&#125;\né«˜ç²¾åº¦ä¹˜æ³•ï¼š\nvector&lt;int&gt; mul(vector&lt;int&gt; &amp;A, b)&#123;    vector&lt;int&gt; C;    int t = 0;    for(int i = 0; i &lt; A.size() || t; i++)&#123;        if(i &lt; A.size()) t += A[i] * b;        C.push_back(t % 10);        t /= 10;    &#125;    return 10;&#125;\né«˜ç²¾åº¦é™¤æ³•ï¼š\nvector&lt;int&gt; div(vector&lt;int&gt; &amp;A, int b, int &amp;r)&#123;    vector&lt;int&gt; C;    r = 0;    for(int i = A.size() - 1; i &gt;= 0; i ++)&#123;        r = r * 10 + A[i];        C.push_back(r / b);        r %= b;    &#125;    while(C.size() &gt; 1 &amp;&amp; C.back() == 0) C.pop_back();    return C;&#125;\n\nå‰ç¼€å’Œfor(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i];for(int i = 1; i &lt;= n; i++) s[i] = s[i - 1] + a[i];\nå·®åˆ†å·®åˆ†ä¸ºå‰ç¼€å’Œçš„é€†è¿ç®—ï¼Œå‡è®¾å­˜åœ¨a[], b[]ï¼Œä½¿å¾—a[i] = b[1] + b[2] + â€¦ + b[i]ï¼Œæ„é€ æ–¹æ³•ä¸ºb[i] = a[i] - a[i - 1]\n","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]},{"title":"æ ‘-å›¾","url":"/2023/02/09/%E6%A0%91-%E5%9B%BE/","content":"æ ‘å’Œå›¾çš„å­˜å‚¨æœ‰å‘å›¾çš„å­˜å‚¨æ–¹å¼æœ‰ï¼š\n\né‚»æ¥çŸ©é˜µï¼ˆä¸å¸¸ç”¨ï¼‰\né‚»æ¥è¡¨ï¼ˆå¸¸ç”¨ï¼‰ï¼šæ¯ä¸ªç‚¹éƒ½æ˜¯ä¸€ä¸ªå•é“¾è¡¨å›¾å’Œæ ‘çš„éå†æ–¹å¼åŒæ ·æ˜¯æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†æ·±åº¦ä¼˜å…ˆéå†ä»£ç ä¸­ï¼Œhæ•°ç»„è¡¨ç¤ºæ¯ä¸ªç‚¹ï¼Œneè¡¨ç¤ºè¯¥ç‚¹ä¸‹ä¸€ä¸ªç‚¹çš„ç´¢å¼•ï¼Œeè¡¨ç¤ºæ‰€æœ‰çš„è¾¹ï¼Œidxè¡¨ç¤ºå½“å‰ç‚¹çš„ç´¢å¼•ã€‚#include&lt;iostream&gt;#include&lt;cstring&gt;using namespace std;const int N = 100010, M = 2 * N;int h[N], e[M], ne[N], idx;bool st[N];void dfs(int u)&#123;    //è¡¨ç¤ºå½“å‰ç‚¹å·²ç»éå†è¿‡äº†    st[u] = true;    for(int i = h[u]; i != -1; i = ne[i])&#123;        int j = e[i];        if(!st[u]) dfs(j);    &#125;&#125;int main()&#123;    memset(h, -1, sizeof h);    dfs(1);&#125;\næ‹“æ‰‘åºåˆ—æ‰€æœ‰èµ·ç‚¹æœ‰æŒ‡å‘ç»ˆç‚¹ï¼Œæœ‰å‘æ— ç¯å›¾ä¸€å®šå­˜åœ¨æ‹“æ‰‘åºåˆ—å…¥åº¦ä¸å‡ºåº¦å¯¹äºæŸä¸ªç‚¹è€Œè¨€ï¼Œæ‰€æœ‰æŒ‡å‘è¯¥ç‚¹çš„è¾¹çš„å€¼ï¼Œå«åšè¯¥ç‚¹çš„å…¥åº¦ï¼Œåä¹‹å«åšè¯¥ç‚¹çš„å‡ºåº¦ã€‚\n\n","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]},{"title":"é“¾è¡¨-æ ˆ-é˜Ÿåˆ—","url":"/2023/02/09/%E9%93%BE%E8%A1%A8-%E6%A0%88-%E9%98%9F%E5%88%97/","content":"æ•°ç»„æ¨¡æ‹Ÿé™æ€é“¾è¡¨ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿé™æ€é“¾è¡¨é€Ÿåº¦è¦æ˜¾è‘—å¿«äºä½¿ç”¨ç»“æ„ä½“ã€‚\n\nä»£ç ä¸­headè¡¨ç¤ºå¤´èŠ‚ç‚¹æŒ‡å‘çš„ä½ç½®ï¼Œe[N]è¡¨ç¤ºè¯¥èŠ‚ç‚¹çš„å€¼ï¼Œne[N]è¡¨ç¤ºèŠ‚ç‚¹æŒ‡å‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ç´¢å¼•ï¼Œidxè¡¨ç¤ºå½“å‰èŠ‚ç‚¹çš„ç´¢å¼•ï¼Œä»£ç ä¸­å±•ç¤ºäº†ä¸‰ç§é“¾è¡¨çš„åŸºæœ¬æ“ä½œï¼Œåˆ†åˆ«æ˜¯å¤´èŠ‚ç‚¹æ’å…¥ï¼Œä»»æ„èŠ‚ç‚¹æ’å…¥ï¼Œä¸åˆ é™¤ã€‚\n#include&lt;iostream&gt;using namespace std;const N = 100010;int head, e[N], ne[N], idx; void init()&#123;    head = -1;    idx = 0;&#125;//åœ¨å¤´èŠ‚ç‚¹æ’å…¥void add_to_head(int x) &#123;    e[idx] = x;    ne[idx] = head;    head = idx;    idx++;&#125;//æ’å…¥åˆ°kä¸‹æ ‡åvoid insert_k(int k, int x)&#123;    e[idx] = x;    ne[idx] = ne[k];    ne[k] = idx;    idx++&#125;//åˆ é™¤ä¸‹æ ‡ä¸ºkçš„ç‚¹çš„åé¢çš„ç‚¹void remove_k(int k)&#123;    ne[k] = ne[ne[k]];&#125;int main() &#123;    &#125;\n\nåŒå‘é“¾è¡¨\n#include&lt;iostream&gt;using namespace std;const int N = 100010;int e[N], l[N], r[N]void init()&#123;    r[0] = 1, l[1] = 0;    idx = 2;&#125;//åœ¨kçš„å³è¾¹æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“æƒ³è¦åœ¨kçš„å·¦è¾¹æ’å…¥èŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥å†™add(l[k], x)void add(int k, int x) &#123;    e[idx] = x;    l[idx] = k;    r[idx] = r[k];    l[r[k]] = idx;    r[k] = idx;    &#125;void remove(int k) &#123;    r[l[k]] = r[k];    l[r[k]] = l[k];&#125;int main()\n\næ ˆå’Œé˜Ÿåˆ—\n#include&lt;iostream&gt;using namespace std;int stk[N], tt;//æ’å…¥stk[++ tt] = x;//å¼¹å‡ºttâ€”-//åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºif(tt &gt; 0) not emptyelse emptyæ ˆé¡¶stk[tt]//**********ï¼Š***********//é˜Ÿåˆ—int q[N], hh, tt//æ’å…¥q[++tt] = x;//å¼¹å‡ºhh++;//åˆ¤æ–­ç©ºif(hh &lt; tt) not emptyelse empty//å–å‡ºé˜Ÿå¤´å…ƒç´ q[hh]\n\nå•è°ƒæ ˆä¾‹é¢˜ï¼šæ‰¾å‡ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å·¦è¾¹è·ç¦»ä»–æœ€è¿‘ä¸”æ¯”ä»–å°çš„å…ƒç´ ï¼Œæ²¡æœ‰è¿”å›-1æ€è·¯ï¼šå¦‚æœå­˜åœ¨a[x] &lt; a[y] &amp;&amp; x &gt; yé‚£a[y]æ°¸è¿œéƒ½ä¸ä¼šè¢«è¾“å‡ºå‡ºæ¥ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œå¯ä»¥ç›´æ¥åœ¨æ ˆé¡¶å¾€ä¸‹æ‰¾ï¼Œæ‰¾åˆ°åå§æ–°å€¼å…¥æ ˆ\n#include&lt;iostream&gt;using namespace std;const int N = 100010int n;int stk[N], tt;int main()&#123;    cin &gt;&gt; n;    for(int i = 0; i &lt; n; i++) &#123;        int x;        cin &gt;&gt; x;        while(tt &amp;&amp; stk[tt] &gt;= x) ttâ€”-;        if(tt) cout &lt;&lt; stk[tt] &lt;&lt; â€œ â€;        else cout &lt;&lt; -1 &lt;&lt; â€œ â€;        stk[++t] = x;         &#125;    return 0;   &#125;\n\n\nå•è°ƒé˜Ÿåˆ—æ»‘åŠ¨çª—å£é—®é¢˜\n#include&lt;iostream&gt;using namespace std;const int N = 100010;int n, k;int a[N], q[N];int main()&#123;    cin &gt;&gt; n &gt;&gt; k;    for(int i = 0; i &lt; n; i++ ) &#123;        if(hh &lt;= tt &amp;&amp; i - k +1 &gt; q[hh]) h++;        while(hh &lt;= tt &amp;&amp; a[q[tt]] &gt;= a[i]) tâ€”-;        q[++t] = i;        if(i &gt;= k - 1) cout &lt;&lt; a[q[hh]];        puts(â€œâ€);    &#125;    puts(â€œâ€);        hh = 0, tt = -i;    for(int i = 0; i &lt; n; i++) &#123;        if(hh &lt;= tt &amp;&amp; i - k + 1 &gt; q[hh]) hh++;        while(hh &lt;= tt &amp;&amp; a[q[tt]] &lt;= a[i]) tâ€”-;        q[++t] = i;        if(i &gt;= k - 1) cout &lt;&lt; a[q[hh]];    &#125;    puts(â€œâ€);&#125;","categories":["åŸºç¡€ç®—æ³•å¤ä¹ "],"tags":["ç®—æ³•"]}]